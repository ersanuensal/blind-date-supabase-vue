import{r as S,c as J,a as F,b as M,o as d,d as u,e as r,f as V,w as k,g as q,h,u as D,i as P,j as l,F as N,k as j,t as p,l as x,v as b,m as E,n as B,p as G,q as O,s as Z,x as K,y as X,z as H,A as Q,B as ee,C as te}from"./vendor.163acdc1.js";const re=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))e(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const s of c.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&e(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerpolicy&&(c.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?c.credentials="include":i.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function e(i){if(i.ep)return;i.ep=!0;const c=n(i);fetch(i.href,c)}};re();const W=S({user:null}),se={setUser(a){W.user=a?a.user:null}};var z={state:W,methods:se};const oe="https://oyioqvxlilouegwbeekh.supabase.co",ae="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDQ0MjY5LCJleHAiOjE5NTg2MjAyNjl9.kTzSGH01qKcDB7tuNFODKL20eBZZm8srXFI02ZVFOD8",_=J(oe,ae);var ie="assets/logo.7c8b451f.png",A=(a,t)=>{const n=a.__vccOpts||a;for(const[e,i]of t)n[e]=i;return n};const ne={setup(){const a=F(()=>z.state.user),t=D();return{logout:async()=>{await _.auth.signOut(),t.push({name:"Login"})},user:a}}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js")});const le={class:"bg-primaryc text-white"},ce={class:"container py-5 px-4 flex flex-col gap-4 items-center sm:flex-row"},de=r("div",{class:"flex items-center gap-x-4"},[r("img",{class:"h-8",src:ie,alt:""})],-1),ue={class:"flex flex-1 justify-end gap-x-10"},me=P("Explore"),pe=P("Activities"),ve=P("Create an Activity"),he=P("Login"),ye=P("Register"),_e=P("Chat"),fe=P("Profile");function ge(a,t,n,e,i,c){const s=M("router-link");return d(),u("header",le,[r("nav",ce,[de,r("ul",ue,[V(s,{class:"cursor-pointer",to:{name:"Explore"}},{default:k(()=>[me]),_:1}),V(s,{class:"cursor-pointer",to:{name:"Home"}},{default:k(()=>[pe]),_:1}),e.user?(d(),q(s,{key:0,class:"cursor-pointer",to:{name:"Activity"}},{default:k(()=>[ve]),_:1})):h("",!0),e.user?h("",!0):(d(),q(s,{key:1,class:"cursor-pointer",to:{name:"Login"}},{default:k(()=>[he]),_:1})),e.user?h("",!0):(d(),q(s,{key:2,class:"cursor-pointer",to:{name:"Register"}},{default:k(()=>[ye]),_:1})),e.user?(d(),q(s,{key:3,class:"cursor-pointer",to:{name:"Chat"}},{default:k(()=>[_e]),_:1})):h("",!0),e.user?(d(),q(s,{key:4,class:"cursor-pointer",to:{name:"Profile"}},{default:k(()=>[fe]),_:1})):h("",!0),e.user?(d(),u("li",{key:5,onClick:t[0]||(t[0]=(...o)=>e.logout&&e.logout(...o)),class:"cursor-pointer"},"Logout")):h("",!0)])])])}var xe=A(ne,[["render",ge]]);const be={components:{Navigation:xe},setup(){const a=l(null);return _.auth.user()||(a.value=!0),_.auth.onAuthStateChange((n,e)=>{z.methods.setUser(e),a.value=!0}),{appReady:a}},created(){this.$workbox&&this.$workbox.addEventListener("waiting",()=>{this.showUpdateUI=!0})}};"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js")});const we={key:0,class:"min-h-full font-Poppins box-border"};function ke(a,t,n,e,i,c){const s=M("Navigation"),o=M("router-view");return e.appReady?(d(),u("div",we,[V(s),V(o)])):h("",!0)}var Ae=A(be,[["render",ke]]);const $e={name:"home",components:{},setup(){const a=l([]),t=l(null);return(async()=>{try{const{data:e,error:i}=await _.from("activities").select("*");if(i)throw i;a.value=e,t.value=!0}catch(e){console.warn(e.message)}})(),{data:a,dataLoaded:t}}},Ue={key:0,class:"container mt-10 px-4"},Le={key:0,class:"w-full flex flex-col items-center"},Me=r("h1",{class:"text-2xl"},"There are no Activities yet.",-1),Pe=P("Create the first One"),Ce={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},Ie={class:"mt-2 py-1 px-3 text-xs text-primaryc bg-white shadow-md rounded-lg"},Ve={class:"mt-2 text-center text-xl text-white"},Te={class:"mt-2 text-center text-xs text-white"};function qe(a,t,n,e,i,c){const s=M("router-link");return e.dataLoaded?(d(),u("div",Ue,[e.data.length===0?(d(),u("div",Le,[Me,V(s,{class:"mt-6 py-2 px-6 rounded-sm text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc",to:{name:"Activity"}},{default:k(()=>[Pe]),_:1})])):(d(),u("div",Ce,[(d(!0),u(N,null,j(e.data,(o,m)=>(d(),q(s,{class:"flex flex-col items-center bg-primaryc p-8 shadow-md cursor-pointer",to:{name:"ViewActivity",params:{id:o.id}},key:m},{default:k(()=>[r("p",Ie,p(o.date),1),r("h1",Ve,p(o.name),1),r("p",Te," In "+p(o.location)+" at "+p(o.time),1)]),_:2},1032,["to"]))),128))]))])):h("",!0)}var Ne=A($e,[["render",qe]]);const je={name:"login",setup(){const a=D(),t=l(null),n=l(null),e=l(null);return{email:t,password:n,errorMsg:e,login:async()=>{try{const{error:c}=await _.auth.signIn({email:t.value,password:n.value});if(c)throw c;a.push({name:"Profile"})}catch(c){e.value=c.message,setTimeout(()=>{e.value=null},5e3)}}}}},Ee={class:"max-w-screen-sm mx-auto px-4 py-10"},Oe={key:0,class:"mb-10 p-4 rounded-md bg-light-grey"},ze={class:"text-red-600"},De=r("h1",{class:"text-3 text-primaryc mb-4"},"Login",-1),Re={class:"flex flex-col mb-2"},Se=r("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),Je={class:"flex flex-col mb-2"},Fe=r("label",{for:"Password",class:"mb-1 text-sm text-primaryc"},"Password",-1),Be=r("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Login ",-1),Ge=P(" You don't have an account? "),He=r("span",{class:"text-primaryc"},"Register",-1);function We(a,t,n,e,i,c){const s=M("router-link");return d(),u("div",Ee,[e.errorMsg?(d(),u("div",Oe,[r("p",ze,p(e.errorMsg),1)])):h("",!0),r("form",{onSubmit:t[2]||(t[2]=E((...o)=>e.login&&e.login(...o),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[De,r("div",Re,[Se,x(r("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=o=>e.email=o),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.email]])]),r("div",Je,[Fe,x(r("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=o=>e.password=o),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.password]])]),Be,V(s,{class:"text-sm text-black mt-6 text-center",to:{name:"Register"}},{default:k(()=>[Ge,He]),_:1})],32)])}var Ye=A(je,[["render",We]]);const Ze={name:"register",setup(){const a=D(),t=l(null),n=l(null),e=l(null),i=l(null);return{email:t,password:n,confirmPassword:e,errorMsg:i,register:async()=>{if(n.value===e.value){try{const{error:s}=await _.auth.signUp({email:t.value,password:n.value});if(s)throw s;a.push({name:"Login"})}catch(s){i.value=s.message,setTimeout(()=>{i.value=null},5e3)}return}i.value="Error: Passwords do not match",setTimeout(()=>{i.value=null},5e3)}}}},Ke={class:"max-w-screen-sm mx-auto px-4 py-10"},Xe={key:0,class:"mb-10 p-4 rounded-md bg-light-grey"},Qe={class:"text-red-600"},et=r("h1",{class:"text-3 text-primaryc mb-4"},"Register",-1),tt={class:"flex flex-col mb-2"},rt=r("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),st={class:"flex flex-col mb-2"},ot=r("label",{for:"Password",class:"mb-1 text-sm text-primaryc"},"Password",-1),at={class:"flex flex-col mb-2"},it=r("label",{for:"confirmPassword",class:"mb-1 text-sm text-primaryc"},"Confirm Password",-1),nt=r("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"},"Register",-1),lt=P(" Already registered? "),ct=r("span",{class:"text-primaryc"},"Login",-1);function dt(a,t,n,e,i,c){const s=M("router-link");return d(),u("div",Ke,[e.errorMsg?(d(),u("div",Xe,[r("p",Qe,p(e.errorMsg),1)])):h("",!0),r("form",{onSubmit:t[3]||(t[3]=E((...o)=>e.register&&e.register(...o),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[et,r("div",tt,[rt,x(r("input",{type:"text",id:"email","onUpdate:modelValue":t[0]||(t[0]=o=>e.email=o),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.email]])]),r("div",st,[ot,x(r("input",{type:"password",id:"password","onUpdate:modelValue":t[1]||(t[1]=o=>e.password=o),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.password]])]),r("div",at,[it,x(r("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[2]||(t[2]=o=>e.confirmPassword=o),required:"",class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.confirmPassword]])]),nt,V(s,{class:"text-sm text-black mt-6 text-center",to:{name:"Login"}},{default:k(()=>[lt,ct]),_:1})],32)])}var ut=A(Ze,[["render",dt]]);const mt="https://oyioqvxlilouegwbeekh.supabase.co",pt="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQzMDQ0MjY5LCJleHAiOjE5NTg2MjAyNjl9.kTzSGH01qKcDB7tuNFODKL20eBZZm8srXFI02ZVFOD8",C=J(mt,pt),L=S({user:{}});const vt={props:{path:String},emits:["upload","update:path"],setup(a,{emit:t}){const{path:n}=B(a),e=l("10em"),i=l(!1),c=l(""),s=l(),o=async()=>{try{const{data:v,error:f}=await C.storage.from("avatars").download(n.value);if(f)throw f;c.value=URL.createObjectURL(v)}catch(v){console.error("Error downloading image: ",v.message)}},m=async v=>{s.value=v.target.files;try{if(i.value=!0,!s.value||s.value.length===0)throw new Error("You must select an image to upload.");const f=s.value[0],I=f.name.split(".").pop(),$=`${`${Math.random()}.${I}`}`;let{error:g}=await C.storage.from("avatars").upload($,f);if(g)throw g;t("update:path",$),t("upload")}catch(f){alert(f.message)}finally{i.value=!1}};return G(n,()=>{n.value&&o()}),{path:n,size:e,uploading:i,src:c,files:s,uploadAvatar:m}}},ht={class:"flex flex-col items-center"},yt=["src"],_t={class:"text-center py-10"},ft={class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc",for:"single"},gt=["disabled"];function xt(a,t,n,e,i,c){return d(),u("div",null,[r("div",ht,[e.src?(d(),u("img",{key:0,src:e.src,alt:"Avatar",class:"avatar image",style:O({height:e.size,width:e.size})},null,12,yt)):(d(),u("div",{key:1,class:"avatar no-image",style:O({height:e.size,width:e.size})},null,4)),r("div",_t,[r("label",ft,p(e.uploading?"Uploading ...":"Upload new Picture"),1),r("input",{style:{visibility:"hidden",position:"absolute"},type:"file",id:"single",accept:"image/*",onChange:t[0]||(t[0]=(...s)=>e.uploadAvatar&&e.uploadAvatar(...s)),disabled:e.uploading},null,40,gt)])])])}var bt=A(vt,[["render",xt]]);const wt={components:{Avatar:bt},setup(){const a=l(!0),t=l(""),n=l(""),e=l(""),i=l(""),c=l(null),s=l(null);async function o(){try{a.value=!0,L.user=C.auth.user();let{data:v,error:f,status:I}=await C.from("profiles").select("username, gender, avatar_url, interests").eq("id",L.user.id).single();if(f&&I!==406)throw f;v&&(t.value=v.username,n.value=v.gender,i.value=v.avatar_url,e.value=v.interests)}catch(v){alert(v.message)}finally{a.value=!1}}async function m(){try{a.value=!0,L.user=C.auth.user();const v={id:L.user.id,username:t.value,gender:n.value,avatar_url:i.value,updated_at:new Date,interests:e.value};let{error:f}=await C.from("profiles").upsert(v,{returning:"minimal"});if(s.value="Profile successfully updated.",setTimeout(()=>{s.value=null},5e3),f)throw f}catch(v){c.value=v.message,setTimeout(()=>{s.value=null},5e3)}finally{a.value=!1}}return Z(()=>{o()}),{store:L,loading:a,username:t,gender:n,avatar_url:i,interests:e,errorMsg:c,statusMsg:s,updateProfile:m}}},kt={class:"max-w-screen-sm mx-auto px-4 py-10"},At={key:0,class:"mb-10 p-4 rounded-md shadow-md bg-light-grey"},$t={class:"test-primaryc"},Ut={class:"test-red-500"},Lt={class:"flex flex-col mb-2"},Mt=r("label",{for:"email",class:"mb-1 text-sm text-primaryc"},"Email",-1),Pt=["value"],Ct={class:"flex flex-col mb-2"},It=r("label",{for:"username",class:"mb-1 text-sm text-primaryc"},"Username",-1),Vt={class:"flex flex-col mb-2"},Tt=r("label",{for:"gender",class:"mb-1 text-sm text-primaryc"},"Gender",-1),qt={class:"flex flex-col mb-2"},Nt=r("label",{for:"interests",class:"mb-1 text-sm text-primaryc"},"Interests",-1),jt=["value","disabled"];function Et(a,t,n,e,i,c){const s=M("Avatar");return d(),u("div",kt,[e.statusMsg||e.errorMsg?(d(),u("div",At,[r("p",$t,p(e.statusMsg),1),r("p",Ut,p(e.errorMsg),1)])):h("",!0),r("form",{onSubmit:t[4]||(t[4]=E((...o)=>e.updateProfile&&e.updateProfile(...o),["prevent"])),class:"p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[V(s,{path:e.avatar_url,"onUpdate:path":t[0]||(t[0]=o=>e.avatar_url=o),onUpload:e.updateProfile},null,8,["path","onUpload"]),r("div",Lt,[Mt,r("input",{id:"email",type:"text",value:e.store.user.email,disabled:"",required:"",class:"p-2 text-gray-500 focus:outline-none"},null,8,Pt)]),r("div",Ct,[It,x(r("input",{id:"username",type:"text",placeholder:"Please set a Username","onUpdate:modelValue":t[1]||(t[1]=o=>e.username=o),class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.username]])]),r("div",Vt,[Tt,x(r("input",{id:"gender",type:"text",placeholder:"Please set a Gender.","onUpdate:modelValue":t[2]||(t[2]=o=>e.gender=o),class:"p-2 text-gray-500 focus:outline-none"},null,512),[[b,e.gender]])]),r("div",qt,[Nt,x(r("textarea",{id:"interests",type:"textarea","onUpdate:modelValue":t[3]||(t[3]=o=>e.interests=o),placeholder:"Write something about yourself.",rows:"4",class:"p-2 h-50 text-gray-500 focus:outline-none resize-none"},null,512),[[b,e.interests]])]),r("button",{type:"submit",value:e.loading?"Loading ...":"Update",disabled:e.loading,class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"},"Update",8,jt)],32)])}var Ot=A(wt,[["render",Et]]),zt="assets/trash.8e4eb5f3.png";const Dt={setup(){const a=l(""),t=l("select-activity"),n=l(""),e=l([]),i=l(""),c=l(""),s=l(""),o=l(null),m=l(null),v=()=>{if(t.value==="others"){e.value.push({id:X(),description:""});return}};return{ActivityName:a,ActivityType:t,ActivityDescription:n,ActivityDate:i,ActivityTime:c,ActivityLocation:s,activity:e,statusMsg:o,errorMsg:m,addActivity:v,removeActivity:$=>{if(e.value.length>1){e.value=e.value.filter(g=>g.id!==$);return}m.value="You must have at least one activity",setTimeout(()=>{m.value=null},5e3)},activityChange:()=>{e.value=[],v()},createActivity:async $=>{try{const{error:g}=await _.from("activities").insert({name:a.value,type:t.value,date:i.value,time:c.value,location:s.value,activity:e.value});if(g)throw g;o.value="Sucess. Activity Created",a.value=null,t.value="select-activity",e.value=[],setTimeout(()=>{o.value=null},5e3)}catch(g){m.value=g.message,setTimeout(()=>{m.value=null},5e3)}}}}},Rt={class:"max-w-screen-md mx-auto px-4 py-10"},St={key:0,class:"mb-10 p-4 bg-light-grey rounded-md"},Jt={class:"text-black-500"},Ft={class:"text-red-500"},Bt={class:"p-8 flex items-start bg-light-grey rounded-md shadow-lg"},Gt=r("h1",{class:"text-2xl text-primaryc"},"Create an Activity",-1),Ht={class:"flex flex-col"},Wt=r("label",{for:"activity-name",class:"mb-1 text-sm text-primaryc"},"Activity Name",-1),Yt={class:"flex flex-col"},Zt=r("label",{for:"select-activity",class:"mb-1 text-sm text-primaryc"},"Activity Type",-1),Kt=r("option",{value:"select-activity"},"Select Activity Type",-1),Xt=r("option",{value:"sports"},"Sports",-1),Qt=r("option",{value:"others"},"Others",-1),er=[Kt,Xt,Qt],tr={key:0,class:"flex flex-col py-4 gap-y-4"},rr={class:"flex flex-col md:w-2/3"},sr=r("label",{for:"activity",class:"mb-1 text-sm text-primaryc"}," Activity Description ",-1),or=["onUpdate:modelValue"],ar={class:"flex flex-col flex-1"},ir=r("label",{for:"duration",class:"mb-1 text-sm text-primaryc"}," Duration ",-1),nr=["onUpdate:modelValue"],lr=["onClick"],cr={class:"flex flex-col"},dr=r("label",{for:"activity-date",class:"mb-1 text-sm text-primaryc"},"Activity Date",-1),ur={class:"flex flex-col"},mr=r("label",{for:"activity-time",class:"mb-1 text-sm text-primaryc"},"Activity Time",-1),pr={class:"flex flex-col"},vr=r("label",{for:"activity-location",class:"mb-1 text-sm text-primaryc"},"Activity Location",-1),hr=r("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Create ",-1);function yr(a,t,n,e,i,c){return d(),u("div",Rt,[e.statusMsg||e.errorMsg?(d(),u("div",St,[r("p",Jt,p(e.statusMsg),1),r("p",Ft,p(e.errorMsg),1)])):h("",!0),r("div",Bt,[r("form",{onSubmit:t[7]||(t[7]=E((...s)=>e.createActivity&&e.createActivity(...s),["prevent"])),class:"flex flex-col gap-y-5 w-full"},[Gt,r("div",Ht,[Wt,x(r("input",{type:"text",required:"",class:"p-2 text-gray-500 focus:outline-none",placeholder:"Activity Name",id:"activity-name","onUpdate:modelValue":t[0]||(t[0]=s=>e.ActivityName=s)},null,512),[[b,e.ActivityName]])]),r("div",Yt,[Zt,x(r("select",{required:"",class:"p-2 text-gray-500 focus:outline-none",id:"select-activity",onChange:t[1]||(t[1]=(...s)=>e.activityChange&&e.activityChange(...s)),"onUpdate:modelValue":t[2]||(t[2]=s=>e.ActivityType=s)},er,544),[[K,e.ActivityType]]),e.ActivityType==="others"?(d(),u("div",tr,[(d(!0),u(N,null,j(e.activity,(s,o)=>(d(),u("div",{class:"flex flex-col gap-x-6 gap-y-2 relative md:flex-row",key:o},[r("div",rr,[sr,x(r("input",{required:"",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":m=>s.description=m},null,8,or),[[b,s.description]])]),r("div",ar,[ir,x(r("input",{required:"",type:"text",class:"p-2 w-full text-gray-500 focus:outline-none","onUpdate:modelValue":m=>s.duration=m},null,8,nr),[[b,s.duration]]),r("img",{onClick:m=>e.removeActivity(s.id),src:zt,class:"h-4 w-auto absolute -left-5 cursor-pointer",alt:""},null,8,lr)])]))),128)),r("button",{onClick:t[3]||(t[3]=(...s)=>e.addActivity&&e.addActivity(...s)),class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Add Activity ")])):h("",!0)]),r("div",cr,[dr,x(r("input",{required:"",type:"date",class:"p-2 text-gray-500 focus:outline-none",id:"activity-date","onUpdate:modelValue":t[4]||(t[4]=s=>e.ActivityDate=s)},null,512),[[b,e.ActivityDate]])]),r("div",ur,[mr,x(r("input",{required:"",type:"time",class:"p-2 text-gray-500 focus:outline-none",id:"activity-time","onUpdate:modelValue":t[5]||(t[5]=s=>e.ActivityTime=s)},null,512),[[b,e.ActivityTime]])]),r("div",pr,[vr,x(r("input",{required:"",type:"text",class:"p-2 text-gray-500 focus:outline-none",id:"activity-location","onUpdate:modelValue":t[6]||(t[6]=s=>e.ActivityLocation=s)},null,512),[[b,e.ActivityLocation]])]),hr],32)])])}var _r=A(Dt,[["render",yr]]);const fr={name:"view-activity",setup(){const a=l(null),t=l(null),n=l(null),e=l(null),i=l(null),c=H(),s=F(()=>z.state.user),o=l(null),m=l(null),v=l(null);let f;const I=c.params.id,y=async()=>{try{const{data:w,error:U}=await _.from("activities").select("*").eq("id",I);if(U)throw U;a.value=w[0],n.value=!0}catch(w){e.value=w.message,setTimeout(()=>{e.value=null},5e3)}};y(),(async()=>{try{const{data:w,error:U}=await _.from("profiles").select("username").eq("id",s.value.id);if(U)throw U;v.value=w[0].username,f=w[0].username}catch(w){e.calue=w.message,setTimeout(()=>{e.value=null},5e3)}})(s.value.id);const g=async()=>{const w=[];let U=[];try{const{data:T,error:fs}=await _.from("instanceOfActivities").select("user").eq("activity_id",I);w.value=T}catch(T){e.value=T.message,setTimeout(()=>{e.value=null},5e3)}w.value.forEach(T=>{U.push(T.user)}),m.value=!0,o.value=U};return g(),{data:a,dataLoaded:n,errorMsg:e,statusMsg:i,getData:y,user:s,joinActivity:async w=>{try{const{data:U,error:T}=await _.from("instanceOfActivities").insert({activity_id:I,user:w});if(T)throw T;i.value="You joined this activity",setTimeout(()=>{i.value=null},5e3)}catch(U){e.value=U.message,setTimeout(()=>{e.value=null},5e3)}window.location.reload()},checkParticipation:g,members:o,membersLoaded:m,username:v,userParticipated:t}}},gr={class:"max-w-screen-sm mx-auto px-4 py-10"},xr={key:0,class:"mb-10 p-4 rounded-md shadow-md bg-light-grey"},br={class:"test-primaryc"},wr={class:"test-red-500"},kr={key:1},Ar={class:"flex flex-col items-center p-8 rounded-md shadow-md bg-light-grey relative"},$r={class:"mt-2 py-1 px-3 text-xs text-white bg-primaryc shadow-md rounded-lg"},Ur={class:"mt-2 text-center text-xl text-primaryc"},Lr={class:"mt-2 text-center text-xl text-primaryc"},Mr={key:0,class:"mt-2 text-center text-xl text-primaryc"},Pr={key:1,class:"flex self-center gap-x-2"},Cr={key:2,class:"flex self-center gap-x-2"},Ir={class:"flex flex-col mt-6 items-center p-8 rounded-md shadow-md bg-light-grey relative"},Vr={key:0,class:"mt-2 py-1 px-3 text-xl text-white bg-primaryc shadow-md rounded-lg"},Tr={class:"mt-2 text-center text-xl text-primaryc cursor-pointer"};function qr(a,t,n,e,i,c){const s=M("router-link");return d(),u("div",gr,[e.statusMsg||e.errorMsg?(d(),u("div",xr,[r("p",br,p(e.statusMsg),1),r("p",wr,p(e.errorMsg),1)])):h("",!0),e.dataLoaded?(d(),u("div",kr,[r("div",Ar,[r("p",$r,p(e.data.date)+" - "+p(e.data.type),1),r("h1",Ur,p(e.data.name),1),r("p",Lr," In "+p(e.data.location)+" at "+p(e.data.time),1),e.data.type=="others"?(d(),u("p",Mr," Doing "+p(e.data.activity[0].description)+" for "+p(e.data.activity[0].duration),1)):h("",!0),e.members!=null&&e.members.includes(e.username)?(d(),u("div",Pr,[r("div",{class:"mt-2 py-2 px-6 rounded-sm self-start cursor-pointer text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc",onClick:t[0]||(t[0]=o=>e.joinActivity(e.username))}," Leave this Activity ")])):(d(),u("div",Cr,[r("div",{class:"mt-2 py-2 px-6 rounded-sm self-start cursor-pointer text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc",onClick:t[1]||(t[1]=o=>e.joinActivity(e.username))}," Join this Activity ")]))]),r("div",Ir,[e.membersLoaded?(d(),u("p",Vr," people participating: ")):h("",!0),(d(!0),u(N,null,j(e.members,(o,m)=>(d(),q(s,{to:{name:"ViewProfile",params:{username:o}},key:m},{default:k(()=>[r("p",Tr,p(o),1)]),_:2},1032,["to"]))),128))])])):h("",!0)])}var Nr=A(fr,[["render",qr]]);const jr={props:{path:String},setup(a){const{path:t}=B(a),n=l("30em"),e=l(!1),i=l(""),c=l(),s=async()=>{try{const{data:o,error:m}=await C.storage.from("avatars").download(t.value);if(m)throw m;i.value=URL.createObjectURL(o)}catch(o){console.error("Error downloading image: ",o.message)}};return G(t,()=>{t.value&&s()}),{path:t,size:n,uploading:e,src:i,files:c}}},Er={class:"flex flex-col items-center"},Or=["src"];function zr(a,t,n,e,i,c){return d(),u("div",null,[r("div",Er,[e.src?(d(),u("img",{key:0,src:e.src,alt:"Avatar",class:"avatar image",style:O({height:e.size,width:e.size})},null,12,Or)):(d(),u("div",{key:1,class:"avatar no-image",style:O({height:e.size,width:e.size})},null,4))])])}var Y=A(jr,[["render",zr]]);const Dr={name:"view-profile",components:{Avatar:Y},setup(){const a=l(null),t=H(),n=l(!0),e=l(""),i=l(""),c=l(""),s=l(""),o=l(""),m=t.params.username;L.user=_.auth.user();async function v(){try{n.value=!0;let{data:y,error:$,status:g}=await _.from("profiles").select("username, gender, avatar_url, interests").eq("username",m).single();if($&&g!==406)throw $;y&&(e.value=y.username,i.value=y.gender,c.value=y.avatar_url,a.value=!0,s.value=y.interests)}catch(y){alert(y.message)}finally{n.value=!1}}v();async function f(){try{n.value=!0,L.user=_.auth.user();let{data:y,error:$,status:g}=await _.from("profiles").select("id").eq("username",m).single();if($&&g!==406)throw $;y&&(o.value=y.id)}catch(y){alert(y.message)}finally{n.value=!1}}return f(),{dataLoaded:a,loading:n,username:e,gender:i,avatar_url:c,interests:s,like:async()=>{try{const{error:y}=await _.from("likes").insert({like_from:L.user.id,like_to:o.value})}catch{}},me:o}}},Rr={class:"max-w-screen-sm mx-auto px-4 py-10"},Sr={class:"p-8 flex flex-col items-center bg-light-grey rounded-md shadow-lg"},Jr={class:"text-primaryc text-xl"},Fr={key:0,class:"text-primaryc text-xl"},Br={key:1,class:"text-primaryc text-xl"},Gr=r("button",{type:"submit",class:"mt-6 py-2 px-6 rounded-sm self-start text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Like ",-1),Hr=[Gr];function Wr(a,t,n,e,i,c){const s=M("Avatar");return d(),u("div",Rr,[r("div",Sr,[r("h1",Jr,"Profile of "+p(e.username),1),V(s,{path:e.avatar_url,"onUpdate:path":t[0]||(t[0]=o=>e.avatar_url=o)},null,8,["path"]),e.gender?(d(),u("p",Fr,"Gender: "+p(e.gender),1)):h("",!0),e.interests?(d(),u("p",Br,"Interests: "+p(e.interests),1)):h("",!0),r("form",{onSubmit:t[1]||(t[1]=E((...o)=>e.like&&e.like(...o),["prevent"]))},Hr,32)])])}var Yr=A(Dr,[["render",Wr]]);const Zr={name:"explore",components:{Avatar:Y},setup(){const a=l([]),t=l(null),n=l(!1);l(""),l("");const e=c=>{var s="https://avatars.dicebear.com/api/personas/"+c+".svg";return s};async function i(){try{n.value=!1,z.user=_.auth.user();const{data:c,error:s}=await _.from("profiles").select("username, gender, avatar_url");if(s)throw s;a&&(a.value=c,t.value=!0)}catch(c){console.warn(c.message)}finally{setTimeout(()=>{n.value=!0},1e3)}}return i(),{dataLoaded:t,loading:n,data:a,getImgUrl:e}}},Kr={class:"max-w-screen-sm mx-auto px-4 py-10"},Xr={key:0,class:"w-full flex flex-col items-center"},Qr=r("h1",{class:"text-2xl"},"There are no Users yet.",-1),es=[Qr],ts={key:1,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-2 gap-6"},rs=["src"],ss={class:"mt-2 py-1 px-3 text-xl text-primaryc bg-white shadow-md rounded-lg"},os={class:"mt-2 text-center text-xl text-white"};function as(a,t,n,e,i,c){const s=M("router-link");return d(),u("div",Kr,[e.data.length===0?(d(),u("div",Xr,es)):(d(),u("div",ts,[(d(!0),u(N,null,j(e.data,(o,m)=>(d(),q(s,{class:"flex flex-col items-center bg-primaryc p-8 shadow-md cursor-pointer",to:{name:"ViewProfile",params:{username:o.username}},key:m},{default:k(()=>[r("img",{src:e.getImgUrl(o.username),alt:""},null,8,rs),r("p",ss,p(o.username),1),r("h1",os,p(o.gender),1)]),_:2},1032,["to"]))),128))]))])}var is=A(Zr,[["render",as]]);const ns={name:"chat",components:{},setup(){const a=l("");l([]),l(!0);const t=l([]),n=l(null);L.user=C.auth.user();let e;return(async()=>{try{const{data:s,error:o}=await C.from("profiles").select("username").eq("id",L.user.id).single();if(o)throw o;a.value=s,e=s}catch(s){console.warn(s.message)}})(),(async()=>{try{const{data:s,error:o}=await C.from("likes").select("like_from ( username )").eq("like_to",L.user.id);if(o)throw o;t.value=s,n.value=!0}catch(s){console.warn(s.message)}})(),{me:a,likes_from:t,dataLoaded:n}}},ls={class:"max-w-screen-sm mx-auto px-4 py-10"},cs={key:0,class:"mb-10 p-4 rounded-md shadow-md bg-light-grey"},ds={class:"test-primaryc"},us={class:"test-red-500"},ms={key:1},ps=r("button",{type:"submit",class:"self-center py-2 px-6 rounded-sm text-sm text-white bg-primaryc duration-200 border-solid border-2 boder-transperent hover:border-primaryc hover:bg-white hover:text-primaryc"}," Request a Date today ",-1);function vs(a,t,n,e,i,c){return d(),u("div",ls,[a.statusMsg||a.errorMsg?(d(),u("div",cs,[r("p",ds,p(a.statusMsg),1),r("p",us,p(a.errorMsg),1)])):h("",!0),e.dataLoaded?(d(),u("div",ms,[(d(!0),u(N,null,j(e.likes_from,(s,o)=>(d(),u("div",{key:o,class:"text-center mt-5 p-8 flex flex-col bg-light-grey rounded-md shadow-lg"},[r("p",null,p(s.like_from.username)+" likes you",1),ps]))),128))])):h("",!0)])}var hs=A(ns,[["render",vs]]);const ys=[{path:"/",name:"Home",component:Ne,meta:{title:"Home",auth:!0}},{path:"/explore",name:"Explore",component:is,meta:{title:"Explore",auth:!0}},{path:"/login",name:"Login",component:Ye,meta:{title:"Login",auth:!1}},{path:"/register",name:"Register",component:ut,meta:{title:"Sign Up",auth:!1}},{path:"/profile",name:"Profile",component:Ot,meta:{title:"Profile",auth:!0}},{path:"/activity",name:"Activity",component:_r,meta:{title:"Create Activity",auth:!0}},{path:"/view-activity/:id",name:"ViewActivity",component:Nr,meta:{title:"View Activity",auth:!0}},{path:"/view-profile/:username",name:"ViewProfile",component:Yr,meta:{title:"View Profile",auth:!0}},{path:"/chat",name:"Chat",component:hs,meta:{title:"Chat",auth:!0}}],R=Q({history:ee(),routes:ys});R.beforeEach((a,t,n)=>{document.title=`${a.meta.title} | Meet People`,n()});R.beforeEach((a,t,n)=>{const e=_.auth.user();if(a.matched.some(i=>i.meta.auth)){if(e){n();return}n({name:"Login"});return}n()});te(Ae).use(R).mount("#app");
