function vr(t,e){const r=Object.create(null),n=t.split(",");for(let s=0;s<n.length;s++)r[n[s]]=!0;return e?s=>!!r[s.toLowerCase()]:s=>!!r[s]}const mi="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",gi=vr(mi);function $n(t){return!!t||t===""}function yr(t){if(j(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=oe(n)?vi(n):yr(n);if(s)for(const i in s)e[i]=s[i]}return e}else{if(oe(t))return t;if(ne(t))return t}}const bi=/;(?![^(]*\))/g,_i=/:(.+)/;function vi(t){const e={};return t.split(bi).forEach(r=>{if(r){const n=r.split(_i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function wr(t){let e="";if(oe(t))e=t;else if(j(t))for(let r=0;r<t.length;r++){const n=wr(t[r]);n&&(e+=n+" ")}else if(ne(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const wa=t=>t==null?"":j(t)||ne(t)&&(t.toString===Rn||!N(t.toString))?JSON.stringify(t,Cn,2):String(t),Cn=(t,e)=>e&&e.__v_isRef?Cn(t,e.value):ht(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s])=>(r[`${n} =>`]=s,r),{})}:An(e)?{[`Set(${e.size})`]:[...e.values()]}:ne(e)&&!j(e)&&!kn(e)?String(e):e,W={},ut=[],Ee=()=>{},yi=()=>!1,wi=/^on[^a-z]/,Kt=t=>wi.test(t),Tr=t=>t.startsWith("onUpdate:"),ie=Object.assign,Er=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},Ti=Object.prototype.hasOwnProperty,L=(t,e)=>Ti.call(t,e),j=Array.isArray,ht=t=>qt(t)==="[object Map]",An=t=>qt(t)==="[object Set]",N=t=>typeof t=="function",oe=t=>typeof t=="string",xr=t=>typeof t=="symbol",ne=t=>t!==null&&typeof t=="object",Pn=t=>ne(t)&&N(t.then)&&N(t.catch),Rn=Object.prototype.toString,qt=t=>Rn.call(t),Ei=t=>qt(t).slice(8,-1),kn=t=>qt(t)==="[object Object]",Or=t=>oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Wt=vr(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),zt=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},xi=/-(\w)/g,Ce=zt(t=>t.replace(xi,(e,r)=>r?r.toUpperCase():"")),Oi=/\B([A-Z])/g,ft=zt(t=>t.replace(Oi,"-$1").toLowerCase()),Jt=zt(t=>t.charAt(0).toUpperCase()+t.slice(1)),Sr=zt(t=>t?`on${Jt(t)}`:""),Ot=(t,e)=>!Object.is(t,e),Gt=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Vt=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},$r=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let jn;const Si=()=>jn||(jn=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let Ve;const Yt=[];class $i{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&Ve&&(this.parent=Ve,this.index=(Ve.scopes||(Ve.scopes=[])).push(this)-1)}run(e){if(this.active)try{return this.on(),e()}finally{this.off()}}on(){this.active&&(Yt.push(this),Ve=this)}off(){this.active&&(Yt.pop(),Ve=Yt[Yt.length-1])}stop(e){if(this.active){if(this.effects.forEach(r=>r.stop()),this.cleanups.forEach(r=>r()),this.scopes&&this.scopes.forEach(r=>r.stop(!0)),this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.active=!1}}}function Ci(t,e){e=e||Ve,e&&e.active&&e.effects.push(t)}const Cr=t=>{const e=new Set(t);return e.w=0,e.n=0,e},In=t=>(t.w&De)>0,Un=t=>(t.n&De)>0,Ai=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=De},Pi=t=>{const{deps:e}=t;if(e.length){let r=0;for(let n=0;n<e.length;n++){const s=e[n];In(s)&&!Un(s)?s.delete(t):e[r++]=s,s.w&=~De,s.n&=~De}e.length=r}},Ar=new WeakMap;let St=0,De=1;const Pr=30,dt=[];let Ye;const Xe=Symbol(""),Rr=Symbol("");class kr{constructor(e,r=null,n){this.fn=e,this.scheduler=r,this.active=!0,this.deps=[],Ci(this,n)}run(){if(!this.active)return this.fn();if(!dt.length||!dt.includes(this))try{return dt.push(Ye=this),Ri(),De=1<<++St,St<=Pr?Ai(this):Nn(this),this.fn()}finally{St<=Pr&&Pi(this),De=1<<--St,Ze(),dt.pop();const e=dt.length;Ye=e>0?dt[e-1]:void 0}}stop(){this.active&&(Nn(this),this.onStop&&this.onStop(),this.active=!1)}}function Nn(t){const{deps:e}=t;if(e.length){for(let r=0;r<e.length;r++)e[r].delete(t);e.length=0}}let pt=!0;const jr=[];function mt(){jr.push(pt),pt=!1}function Ri(){jr.push(pt),pt=!0}function Ze(){const t=jr.pop();pt=t===void 0?!0:t}function pe(t,e,r){if(!Mn())return;let n=Ar.get(t);n||Ar.set(t,n=new Map);let s=n.get(r);s||n.set(r,s=Cr()),Fn(s)}function Mn(){return pt&&Ye!==void 0}function Fn(t,e){let r=!1;St<=Pr?Un(t)||(t.n|=De,r=!In(t)):r=!t.has(Ye),r&&(t.add(Ye),Ye.deps.push(t))}function Ie(t,e,r,n,s,i){const o=Ar.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(r==="length"&&j(t))o.forEach((a,f)=>{(f==="length"||f>=n)&&l.push(a)});else switch(r!==void 0&&l.push(o.get(r)),e){case"add":j(t)?Or(r)&&l.push(o.get("length")):(l.push(o.get(Xe)),ht(t)&&l.push(o.get(Rr)));break;case"delete":j(t)||(l.push(o.get(Xe)),ht(t)&&l.push(o.get(Rr)));break;case"set":ht(t)&&l.push(o.get(Xe));break}if(l.length===1)l[0]&&Ir(l[0]);else{const a=[];for(const f of l)f&&a.push(...f);Ir(Cr(a))}}function Ir(t,e){for(const r of j(t)?t:[...t])(r!==Ye||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const ki=vr("__proto__,__v_isRef,__isVue"),Dn=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(xr)),ji=Ur(),Ii=Ur(!1,!0),Ui=Ur(!0),Bn=Ni();function Ni(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const n=H(this);for(let i=0,o=this.length;i<o;i++)pe(n,"get",i+"");const s=n[e](...r);return s===-1||s===!1?n[e](...r.map(H)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){mt();const n=H(this)[e].apply(this,r);return Ze(),n}}),t}function Ur(t=!1,e=!1){return function(n,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?Zi:Vn:e?Gn:Jn).get(n))return n;const o=j(n);if(!t&&o&&L(Bn,s))return Reflect.get(Bn,s,i);const l=Reflect.get(n,s,i);return(xr(s)?Dn.has(s):ki(s))||(t||pe(n,"get",s),e)?l:te(l)?!o||!Or(s)?l.value:l:ne(l)?t?Yn(l):Fr(l):l}}const Mi=Ln(),Fi=Ln(!0);function Ln(t=!1){return function(r,n,s,i){let o=r[n];if($t(o)&&te(o)&&!te(s))return!1;if(!t&&!$t(s)&&(Xn(s)||(s=H(s),o=H(o)),!j(r)&&te(o)&&!te(s)))return o.value=s,!0;const l=j(r)&&Or(n)?Number(n)<r.length:L(r,n),a=Reflect.set(r,n,s,i);return r===H(i)&&(l?Ot(s,o)&&Ie(r,"set",n,s):Ie(r,"add",n,s)),a}}function Di(t,e){const r=L(t,e);t[e];const n=Reflect.deleteProperty(t,e);return n&&r&&Ie(t,"delete",e,void 0),n}function Bi(t,e){const r=Reflect.has(t,e);return(!xr(e)||!Dn.has(e))&&pe(t,"has",e),r}function Li(t){return pe(t,"iterate",j(t)?"length":Xe),Reflect.ownKeys(t)}const Hn={get:ji,set:Mi,deleteProperty:Di,has:Bi,ownKeys:Li},Hi={get:Ui,set(t,e){return!0},deleteProperty(t,e){return!0}},Ki=ie({},Hn,{get:Ii,set:Fi}),Nr=t=>t,Xt=t=>Reflect.getPrototypeOf(t);function Zt(t,e,r=!1,n=!1){t=t.__v_raw;const s=H(t),i=H(e);e!==i&&!r&&pe(s,"get",e),!r&&pe(s,"get",i);const{has:o}=Xt(s),l=n?Nr:r?Br:Ct;if(o.call(s,e))return l(t.get(e));if(o.call(s,i))return l(t.get(i));t!==s&&t.get(e)}function Qt(t,e=!1){const r=this.__v_raw,n=H(r),s=H(t);return t!==s&&!e&&pe(n,"has",t),!e&&pe(n,"has",s),t===s?r.has(t):r.has(t)||r.has(s)}function er(t,e=!1){return t=t.__v_raw,!e&&pe(H(t),"iterate",Xe),Reflect.get(t,"size",t)}function Kn(t){t=H(t);const e=H(this);return Xt(e).has.call(e,t)||(e.add(t),Ie(e,"add",t,t)),this}function qn(t,e){e=H(e);const r=H(this),{has:n,get:s}=Xt(r);let i=n.call(r,t);i||(t=H(t),i=n.call(r,t));const o=s.call(r,t);return r.set(t,e),i?Ot(e,o)&&Ie(r,"set",t,e):Ie(r,"add",t,e),this}function Wn(t){const e=H(this),{has:r,get:n}=Xt(e);let s=r.call(e,t);s||(t=H(t),s=r.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return s&&Ie(e,"delete",t,void 0),i}function zn(){const t=H(this),e=t.size!==0,r=t.clear();return e&&Ie(t,"clear",void 0,void 0),r}function tr(t,e){return function(n,s){const i=this,o=i.__v_raw,l=H(o),a=e?Nr:t?Br:Ct;return!t&&pe(l,"iterate",Xe),o.forEach((f,h)=>n.call(s,a(f),a(h),i))}}function rr(t,e,r){return function(...n){const s=this.__v_raw,i=H(s),o=ht(i),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,f=s[t](...n),h=r?Nr:e?Br:Ct;return!e&&pe(i,"iterate",a?Rr:Xe),{next(){const{value:m,done:T}=f.next();return T?{value:m,done:T}:{value:l?[h(m[0]),h(m[1])]:h(m),done:T}},[Symbol.iterator](){return this}}}}function Be(t){return function(...e){return t==="delete"?!1:this}}function qi(){const t={get(i){return Zt(this,i)},get size(){return er(this)},has:Qt,add:Kn,set:qn,delete:Wn,clear:zn,forEach:tr(!1,!1)},e={get(i){return Zt(this,i,!1,!0)},get size(){return er(this)},has:Qt,add:Kn,set:qn,delete:Wn,clear:zn,forEach:tr(!1,!0)},r={get(i){return Zt(this,i,!0)},get size(){return er(this,!0)},has(i){return Qt.call(this,i,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:tr(!0,!1)},n={get(i){return Zt(this,i,!0,!0)},get size(){return er(this,!0)},has(i){return Qt.call(this,i,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:tr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=rr(i,!1,!1),r[i]=rr(i,!0,!1),e[i]=rr(i,!1,!0),n[i]=rr(i,!0,!0)}),[t,r,e,n]}const[Wi,zi,Ji,Gi]=qi();function Mr(t,e){const r=e?t?Gi:Ji:t?zi:Wi;return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(L(r,s)&&s in n?r:n,s,i)}const Vi={get:Mr(!1,!1)},Yi={get:Mr(!1,!0)},Xi={get:Mr(!0,!1)},Jn=new WeakMap,Gn=new WeakMap,Vn=new WeakMap,Zi=new WeakMap;function Qi(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function eo(t){return t.__v_skip||!Object.isExtensible(t)?0:Qi(Ei(t))}function Fr(t){return $t(t)?t:Dr(t,!1,Hn,Vi,Jn)}function to(t){return Dr(t,!1,Ki,Yi,Gn)}function Yn(t){return Dr(t,!0,Hi,Xi,Vn)}function Dr(t,e,r,n,s){if(!ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=eo(t);if(o===0)return t;const l=new Proxy(t,o===2?n:r);return s.set(t,l),l}function gt(t){return $t(t)?gt(t.__v_raw):!!(t&&t.__v_isReactive)}function $t(t){return!!(t&&t.__v_isReadonly)}function Xn(t){return!!(t&&t.__v_isShallow)}function Zn(t){return gt(t)||$t(t)}function H(t){const e=t&&t.__v_raw;return e?H(e):t}function Qn(t){return Vt(t,"__v_skip",!0),t}const Ct=t=>ne(t)?Fr(t):t,Br=t=>ne(t)?Yn(t):t;function es(t){Mn()&&(t=H(t),t.dep||(t.dep=Cr()),Fn(t.dep))}function ts(t,e){t=H(t),t.dep&&Ir(t.dep)}function te(t){return Boolean(t&&t.__v_isRef===!0)}function Ta(t){return ro(t,!1)}function ro(t,e){return te(t)?t:new no(t,e)}class no{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:H(e),this._value=r?e:Ct(e)}get value(){return es(this),this._value}set value(e){e=this.__v_isShallow?e:H(e),Ot(e,this._rawValue)&&(this._rawValue=e,this._value=this.__v_isShallow?e:Ct(e),ts(this))}}function so(t){return te(t)?t.value:t}const io={get:(t,e,r)=>so(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return te(s)&&!te(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function rs(t){return gt(t)?t:new Proxy(t,io)}function Ea(t){const e=j(t)?new Array(t.length):{};for(const r in t)e[r]=lo(t,r);return e}class oo{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}}function lo(t,e,r){const n=t[e];return te(n)?n:new oo(t,e,r)}class co{constructor(e,r,n,s){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new kr(e,()=>{this._dirty||(this._dirty=!0,ts(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=n}get value(){const e=H(this);return es(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function ao(t,e,r=!1){let n,s;const i=N(t);return i?(n=t,s=Ee):(n=t.get,s=t.set),new co(n,s,i||!s,r)}Promise.resolve();function Le(t,e,r,n){let s;try{s=n?t(...n):t()}catch(i){nr(i,e,r)}return s}function _e(t,e,r,n){if(N(t)){const i=Le(t,e,r,n);return i&&Pn(i)&&i.catch(o=>{nr(o,e,r)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(_e(t[i],e,r,n));return s}function nr(t,e,r,n=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,l=r;for(;i;){const f=i.ec;if(f){for(let h=0;h<f.length;h++)if(f[h](t,o,l)===!1)return}i=i.parent}const a=e.appContext.config.errorHandler;if(a){Le(a,null,10,[t,o,l]);return}}uo(t,r,s,n)}function uo(t,e,r,n=!0){console.error(t)}let sr=!1,Lr=!1;const me=[];let Ue=0;const At=[];let Pt=null,bt=0;const Rt=[];let He=null,_t=0;const ns=Promise.resolve();let Hr=null,Kr=null;function ho(t){const e=Hr||ns;return t?e.then(this?t.bind(this):t):e}function fo(t){let e=Ue+1,r=me.length;for(;e<r;){const n=e+r>>>1;kt(me[n])<t?e=n+1:r=n}return e}function ss(t){(!me.length||!me.includes(t,sr&&t.allowRecurse?Ue+1:Ue))&&t!==Kr&&(t.id==null?me.push(t):me.splice(fo(t.id),0,t),is())}function is(){!sr&&!Lr&&(Lr=!0,Hr=ns.then(cs))}function po(t){const e=me.indexOf(t);e>Ue&&me.splice(e,1)}function os(t,e,r,n){j(t)?r.push(...t):(!e||!e.includes(t,t.allowRecurse?n+1:n))&&r.push(t),is()}function mo(t){os(t,Pt,At,bt)}function go(t){os(t,He,Rt,_t)}function qr(t,e=null){if(At.length){for(Kr=e,Pt=[...new Set(At)],At.length=0,bt=0;bt<Pt.length;bt++)Pt[bt]();Pt=null,bt=0,Kr=null,qr(t,e)}}function ls(t){if(Rt.length){const e=[...new Set(Rt)];if(Rt.length=0,He){He.push(...e);return}for(He=e,He.sort((r,n)=>kt(r)-kt(n)),_t=0;_t<He.length;_t++)He[_t]();He=null,_t=0}}const kt=t=>t.id==null?1/0:t.id;function cs(t){Lr=!1,sr=!0,qr(t),me.sort((r,n)=>kt(r)-kt(n));const e=Ee;try{for(Ue=0;Ue<me.length;Ue++){const r=me[Ue];r&&r.active!==!1&&Le(r,null,14)}}finally{Ue=0,me.length=0,ls(),sr=!1,Hr=null,(me.length||At.length||Rt.length)&&cs(t)}}function bo(t,e,...r){const n=t.vnode.props||W;let s=r;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in n){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:m,trim:T}=n[h]||W;T?s=r.map(P=>P.trim()):m&&(s=r.map($r))}let l,a=n[l=Sr(e)]||n[l=Sr(Ce(e))];!a&&i&&(a=n[l=Sr(ft(e))]),a&&_e(a,t,6,s);const f=n[l+"Once"];if(f){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,_e(f,t,6,s)}}function as(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!N(t)){const a=f=>{const h=as(f,e,!0);h&&(l=!0,ie(o,h))};!r&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!i&&!l?(n.set(t,null),null):(j(i)?i.forEach(a=>o[a]=null):ie(o,i),n.set(t,o),o)}function Wr(t,e){return!t||!Kt(e)?!1:(e=e.slice(2).replace(/Once$/,""),L(t,e[0].toLowerCase()+e.slice(1))||L(t,ft(e))||L(t,e))}let ve=null,us=null;function ir(t){const e=ve;return ve=t,us=t&&t.type.__scopeId||null,e}function _o(t,e=ve,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Ds(-1);const i=ir(e),o=t(...s);return ir(i),n._d&&Ds(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function zr(t){const{type:e,vnode:r,proxy:n,withProxy:s,props:i,propsOptions:[o],slots:l,attrs:a,emit:f,render:h,renderCache:m,data:T,setupState:P,ctx:S,inheritAttrs:M}=t;let I,B;const ce=ir(t);try{if(r.shapeFlag&4){const X=s||n;I=Pe(h.call(X,X,m,i,P,T,S)),B=a}else{const X=e;I=Pe(X.length>1?X(i,{attrs:a,slots:l,emit:f}):X(i,null)),B=e.props?a:vo(a)}}catch(X){jt.length=0,nr(X,t,1),I=qe(Ke)}let ee=I;if(B&&M!==!1){const X=Object.keys(B),{shapeFlag:se}=ee;X.length&&se&(1|6)&&(o&&X.some(Tr)&&(B=yo(B,o)),ee=vt(ee,B))}return r.dirs&&(ee.dirs=ee.dirs?ee.dirs.concat(r.dirs):r.dirs),r.transition&&(ee.transition=r.transition),I=ee,ir(ce),I}const vo=t=>{let e;for(const r in t)(r==="class"||r==="style"||Kt(r))&&((e||(e={}))[r]=t[r]);return e},yo=(t,e)=>{const r={};for(const n in t)(!Tr(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function wo(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:l,patchFlag:a}=e,f=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&a>=0){if(a&1024)return!0;if(a&16)return n?hs(n,o,f):!!o;if(a&8){const h=e.dynamicProps;for(let m=0;m<h.length;m++){const T=h[m];if(o[T]!==n[T]&&!Wr(f,T))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:n===o?!1:n?o?hs(n,o,f):!0:!!o;return!1}function hs(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!Wr(r,i))return!0}return!1}function To({vnode:t,parent:e},r){for(;e&&e.subTree===t;)(t=e.vnode).el=r,e=e.parent}const Eo=t=>t.__isSuspense;function xo(t,e){e&&e.pendingBranch?j(t)?e.effects.push(...t):e.effects.push(t):go(t)}function Oo(t,e){if(re){let r=re.provides;const n=re.parent&&re.parent.provides;n===r&&(r=re.provides=Object.create(n)),r[t]=e}}function Jr(t,e,r=!1){const n=re||ve;if(n){const s=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(s&&t in s)return s[t];if(arguments.length>1)return r&&N(e)?e.call(n.proxy):e}}const fs={};function Gr(t,e,r){return ds(t,e,r)}function ds(t,e,{immediate:r,deep:n,flush:s,onTrack:i,onTrigger:o}=W){const l=re;let a,f=!1,h=!1;if(te(t)?(a=()=>t.value,f=Xn(t)):gt(t)?(a=()=>t,n=!0):j(t)?(h=!0,f=t.some(gt),a=()=>t.map(B=>{if(te(B))return B.value;if(gt(B))return Qe(B);if(N(B))return Le(B,l,2)})):N(t)?e?a=()=>Le(t,l,2):a=()=>{if(!(l&&l.isUnmounted))return m&&m(),_e(t,l,3,[T])}:a=Ee,e&&n){const B=a;a=()=>Qe(B())}let m,T=B=>{m=I.onStop=()=>{Le(B,l,4)}};if(It)return T=Ee,e?r&&_e(e,l,3,[a(),h?[]:void 0,T]):a(),Ee;let P=h?[]:fs;const S=()=>{if(!!I.active)if(e){const B=I.run();(n||f||(h?B.some((ce,ee)=>Ot(ce,P[ee])):Ot(B,P)))&&(m&&m(),_e(e,l,3,[B,P===fs?void 0:P,T]),P=B)}else I.run()};S.allowRecurse=!!e;let M;s==="sync"?M=S:s==="post"?M=()=>ae(S,l&&l.suspense):M=()=>{!l||l.isMounted?mo(S):S()};const I=new kr(a,M);return e?r?S():P=I.run():s==="post"?ae(I.run.bind(I),l&&l.suspense):I.run(),()=>{I.stop(),l&&l.scope&&Er(l.scope.effects,I)}}function So(t,e,r){const n=this.proxy,s=oe(t)?t.includes(".")?ps(n,t):()=>n[t]:t.bind(n,n);let i;N(e)?i=e:(i=e.handler,r=e);const o=re;yt(this);const l=ds(s,i.bind(n),r);return o?yt(o):it(),l}function ps(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function Qe(t,e){if(!ne(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),te(t))Qe(t.value,e);else if(j(t))for(let r=0;r<t.length;r++)Qe(t[r],e);else if(An(t)||ht(t))t.forEach(r=>{Qe(r,e)});else if(kn(t))for(const r in t)Qe(t[r],e);return t}function $o(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return vs(()=>{t.isMounted=!0}),ys(()=>{t.isUnmounting=!0}),t}const ye=[Function,Array],Co={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ye,onEnter:ye,onAfterEnter:ye,onEnterCancelled:ye,onBeforeLeave:ye,onLeave:ye,onAfterLeave:ye,onLeaveCancelled:ye,onBeforeAppear:ye,onAppear:ye,onAfterAppear:ye,onAppearCancelled:ye},setup(t,{slots:e}){const r=pl(),n=$o();let s;return()=>{const i=e.default&&bs(e.default(),!0);if(!i||!i.length)return;const o=H(t),{mode:l}=o,a=i[0];if(n.isLeaving)return Yr(a);const f=gs(a);if(!f)return Yr(a);const h=Vr(f,o,n,r);Xr(f,h);const m=r.subTree,T=m&&gs(m);let P=!1;const{getTransitionKey:S}=f.type;if(S){const M=S();s===void 0?s=M:M!==s&&(s=M,P=!0)}if(T&&T.type!==Ke&&(!st(f,T)||P)){const M=Vr(T,o,n,r);if(Xr(T,M),l==="out-in")return n.isLeaving=!0,M.afterLeave=()=>{n.isLeaving=!1,r.update()},Yr(a);l==="in-out"&&f.type!==Ke&&(M.delayLeave=(I,B,ce)=>{const ee=ms(n,T);ee[String(T.key)]=T,I._leaveCb=()=>{B(),I._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=ce})}return a}}},Ao=Co;function ms(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Vr(t,e,r,n){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:l,onEnter:a,onAfterEnter:f,onEnterCancelled:h,onBeforeLeave:m,onLeave:T,onAfterLeave:P,onLeaveCancelled:S,onBeforeAppear:M,onAppear:I,onAfterAppear:B,onAppearCancelled:ce}=e,ee=String(t.key),X=ms(r,t),se=(K,J)=>{K&&_e(K,n,9,J)},ke={mode:i,persisted:o,beforeEnter(K){let J=l;if(!r.isMounted)if(s)J=M||l;else return;K._leaveCb&&K._leaveCb(!0);const Z=X[ee];Z&&st(t,Z)&&Z.el._leaveCb&&Z.el._leaveCb(),se(J,[K])},enter(K){let J=a,Z=f,he=h;if(!r.isMounted)if(s)J=I||a,Z=B||f,he=ce||h;else return;let V=!1;const fe=K._enterCb=Oe=>{V||(V=!0,Oe?se(he,[K]):se(Z,[K]),ke.delayedLeave&&ke.delayedLeave(),K._enterCb=void 0)};J?(J(K,fe),J.length<=1&&fe()):fe()},leave(K,J){const Z=String(t.key);if(K._enterCb&&K._enterCb(!0),r.isUnmounting)return J();se(m,[K]);let he=!1;const V=K._leaveCb=fe=>{he||(he=!0,J(),fe?se(S,[K]):se(P,[K]),K._leaveCb=void 0,X[Z]===t&&delete X[Z])};X[Z]=t,T?(T(K,V),T.length<=1&&V()):V()},clone(K){return Vr(K,e,r,n)}};return ke}function Yr(t){if(or(t))return t=vt(t),t.children=null,t}function gs(t){return or(t)?t.children?t.children[0]:void 0:t}function Xr(t,e){t.shapeFlag&6&&t.component?Xr(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function bs(t,e=!1){let r=[],n=0;for(let s=0;s<t.length;s++){const i=t[s];i.type===Ae?(i.patchFlag&128&&n++,r=r.concat(bs(i.children,e))):(e||i.type!==Ke)&&r.push(i)}if(n>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}const Zr=t=>!!t.type.__asyncLoader,or=t=>t.type.__isKeepAlive;function Po(t,e){_s(t,"a",e)}function Ro(t,e){_s(t,"da",e)}function _s(t,e,r=re){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(lr(e,n,r),r){let s=r.parent;for(;s&&s.parent;)or(s.parent.vnode)&&ko(n,e,r,s),s=s.parent}}function ko(t,e,r,n){const s=lr(e,t,n,!0);ws(()=>{Er(n[e],s)},r)}function lr(t,e,r=re,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;mt(),yt(r);const l=_e(e,r,t,o);return it(),Ze(),l});return n?s.unshift(i):s.push(i),i}}const Ne=t=>(e,r=re)=>(!It||t==="sp")&&lr(t,e,r),jo=Ne("bm"),vs=Ne("m"),Io=Ne("bu"),Uo=Ne("u"),ys=Ne("bum"),ws=Ne("um"),No=Ne("sp"),Mo=Ne("rtg"),Fo=Ne("rtc");function Do(t,e=re){lr("ec",t,e)}let Qr=!0;function Bo(t){const e=xs(t),r=t.proxy,n=t.ctx;Qr=!1,e.beforeCreate&&Ts(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:a,inject:f,created:h,beforeMount:m,mounted:T,beforeUpdate:P,updated:S,activated:M,deactivated:I,beforeDestroy:B,beforeUnmount:ce,destroyed:ee,unmounted:X,render:se,renderTracked:ke,renderTriggered:K,errorCaptured:J,serverPrefetch:Z,expose:he,inheritAttrs:V,components:fe,directives:Oe,filters:d}=e;if(f&&Lo(f,n,null,t.appContext.config.unwrapInjectedRef),o)for(const U in o){const k=o[U];N(k)&&(n[U]=k.bind(r))}if(s){const U=s.call(r,r);ne(U)&&(t.data=Fr(U))}if(Qr=!0,i)for(const U in i){const k=i[U],F=N(k)?k.bind(r,r):N(k.get)?k.get.bind(r,r):Ee,Me=!N(k)&&N(k.set)?k.set.bind(r):Ee,we=wl({get:F,set:Me});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>we.value,set:Se=>we.value=Se})}if(l)for(const U in l)Es(l[U],n,r,U);if(a){const U=N(a)?a.call(r):a;Reflect.ownKeys(U).forEach(k=>{Oo(k,U[k])})}h&&Ts(h,t,"c");function $(U,k){j(k)?k.forEach(F=>U(F.bind(r))):k&&U(k.bind(r))}if($(jo,m),$(vs,T),$(Io,P),$(Uo,S),$(Po,M),$(Ro,I),$(Do,J),$(Fo,ke),$(Mo,K),$(ys,ce),$(ws,X),$(No,Z),j(he))if(he.length){const U=t.exposed||(t.exposed={});he.forEach(k=>{Object.defineProperty(U,k,{get:()=>r[k],set:F=>r[k]=F})})}else t.exposed||(t.exposed={});se&&t.render===Ee&&(t.render=se),V!=null&&(t.inheritAttrs=V),fe&&(t.components=fe),Oe&&(t.directives=Oe)}function Lo(t,e,r=Ee,n=!1){j(t)&&(t=en(t));for(const s in t){const i=t[s];let o;ne(i)?"default"in i?o=Jr(i.from||s,i.default,!0):o=Jr(i.from||s):o=Jr(i),te(o)&&n?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>o.value,set:l=>o.value=l}):e[s]=o}}function Ts(t,e,r){_e(j(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Es(t,e,r,n){const s=n.includes(".")?ps(r,n):()=>r[n];if(oe(t)){const i=e[t];N(i)&&Gr(s,i)}else if(N(t))Gr(s,t.bind(r));else if(ne(t))if(j(t))t.forEach(i=>Es(i,e,r,n));else{const i=N(t.handler)?t.handler.bind(r):e[t.handler];N(i)&&Gr(s,i,t)}}function xs(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let a;return l?a=l:!s.length&&!r&&!n?a=e:(a={},s.length&&s.forEach(f=>cr(a,f,o,!0)),cr(a,e,o)),i.set(e,a),a}function cr(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&cr(t,i,r,!0),s&&s.forEach(o=>cr(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const l=Ho[o]||r&&r[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Ho={data:Os,props:et,emits:et,methods:et,computed:et,beforeCreate:le,created:le,beforeMount:le,mounted:le,beforeUpdate:le,updated:le,beforeDestroy:le,beforeUnmount:le,destroyed:le,unmounted:le,activated:le,deactivated:le,errorCaptured:le,serverPrefetch:le,components:et,directives:et,watch:qo,provide:Os,inject:Ko};function Os(t,e){return e?t?function(){return ie(N(t)?t.call(this,this):t,N(e)?e.call(this,this):e)}:e:t}function Ko(t,e){return et(en(t),en(e))}function en(t){if(j(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function le(t,e){return t?[...new Set([].concat(t,e))]:e}function et(t,e){return t?ie(ie(Object.create(null),t),e):e}function qo(t,e){if(!t)return e;if(!e)return t;const r=ie(Object.create(null),t);for(const n in e)r[n]=le(t[n],e[n]);return r}function Wo(t,e,r,n=!1){const s={},i={};Vt(i,ur,1),t.propsDefaults=Object.create(null),Ss(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:to(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function zo(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=H(s),[a]=t.propsOptions;let f=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let m=0;m<h.length;m++){let T=h[m];const P=e[T];if(a)if(L(i,T))P!==i[T]&&(i[T]=P,f=!0);else{const S=Ce(T);s[S]=tn(a,l,S,P,t,!1)}else P!==i[T]&&(i[T]=P,f=!0)}}}else{Ss(t,e,s,i)&&(f=!0);let h;for(const m in l)(!e||!L(e,m)&&((h=ft(m))===m||!L(e,h)))&&(a?r&&(r[m]!==void 0||r[h]!==void 0)&&(s[m]=tn(a,l,m,void 0,t,!0)):delete s[m]);if(i!==l)for(const m in i)(!e||!L(e,m)&&!0)&&(delete i[m],f=!0)}f&&Ie(t,"set","$attrs")}function Ss(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(Wt(a))continue;const f=e[a];let h;s&&L(s,h=Ce(a))?!i||!i.includes(h)?r[h]=f:(l||(l={}))[h]=f:Wr(t.emitsOptions,a)||(!(a in n)||f!==n[a])&&(n[a]=f,o=!0)}if(i){const a=H(r),f=l||W;for(let h=0;h<i.length;h++){const m=i[h];r[m]=tn(s,a,m,f[m],t,!L(f,m))}}return o}function tn(t,e,r,n,s,i){const o=t[r];if(o!=null){const l=L(o,"default");if(l&&n===void 0){const a=o.default;if(o.type!==Function&&N(a)){const{propsDefaults:f}=s;r in f?n=f[r]:(yt(s),n=f[r]=a.call(null,e),it())}else n=a}o[0]&&(i&&!l?n=!1:o[1]&&(n===""||n===ft(r))&&(n=!0))}return n}function $s(t,e,r=!1){const n=e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},l=[];let a=!1;if(!N(t)){const h=m=>{a=!0;const[T,P]=$s(m,e,!0);ie(o,T),P&&l.push(...P)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!a)return n.set(t,ut),ut;if(j(i))for(let h=0;h<i.length;h++){const m=Ce(i[h]);Cs(m)&&(o[m]=W)}else if(i)for(const h in i){const m=Ce(h);if(Cs(m)){const T=i[h],P=o[m]=j(T)||N(T)?{type:T}:T;if(P){const S=Rs(Boolean,P.type),M=Rs(String,P.type);P[0]=S>-1,P[1]=M<0||S<M,(S>-1||L(P,"default"))&&l.push(m)}}}const f=[o,l];return n.set(t,f),f}function Cs(t){return t[0]!=="$"}function As(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Ps(t,e){return As(t)===As(e)}function Rs(t,e){return j(e)?e.findIndex(r=>Ps(r,t)):N(e)&&Ps(e,t)?0:-1}const ks=t=>t[0]==="_"||t==="$stable",rn=t=>j(t)?t.map(Pe):[Pe(t)],Jo=(t,e,r)=>{const n=_o((...s)=>rn(e(...s)),r);return n._c=!1,n},js=(t,e,r)=>{const n=t._ctx;for(const s in t){if(ks(s))continue;const i=t[s];if(N(i))e[s]=Jo(s,i,n);else if(i!=null){const o=rn(i);e[s]=()=>o}}},Is=(t,e)=>{const r=rn(e);t.slots.default=()=>r},Go=(t,e)=>{if(t.vnode.shapeFlag&32){const r=e._;r?(t.slots=H(e),Vt(e,"_",r)):js(e,t.slots={})}else t.slots={},e&&Is(t,e);Vt(t.slots,ur,1)},Vo=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=W;if(n.shapeFlag&32){const l=e._;l?r&&l===1?i=!1:(ie(s,e),!r&&l===1&&delete s._):(i=!e.$stable,js(e,s)),o=e}else e&&(Is(t,e),o={default:1});if(i)for(const l in s)!ks(l)&&!(l in o)&&delete s[l]};function xa(t,e){const r=ve;if(r===null)return t;const n=r.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,l,a,f=W]=e[i];N(o)&&(o={mounted:o,updated:o}),o.deep&&Qe(l),s.push({dir:o,instance:n,value:l,oldValue:void 0,arg:a,modifiers:f})}return t}function tt(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let a=l.dir[n];a&&(mt(),_e(a,r,8,[t.el,l,t,e]),Ze())}}function Us(){return{app:null,config:{isNativeTag:yi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Yo=0;function Xo(t,e){return function(n,s=null){s!=null&&!ne(s)&&(s=null);const i=Us(),o=new Set;let l=!1;const a=i.app={_uid:Yo++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Tl,get config(){return i.config},set config(f){},use(f,...h){return o.has(f)||(f&&N(f.install)?(o.add(f),f.install(a,...h)):N(f)&&(o.add(f),f(a,...h))),a},mixin(f){return i.mixins.includes(f)||i.mixins.push(f),a},component(f,h){return h?(i.components[f]=h,a):i.components[f]},directive(f,h){return h?(i.directives[f]=h,a):i.directives[f]},mount(f,h,m){if(!l){const T=qe(n,s);return T.appContext=i,h&&e?e(T,f):t(T,f,m),l=!0,a._container=f,f.__vue_app__=a,an(T.component)||T.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(f,h){return i.provides[f]=h,a}};return a}}function nn(t,e,r,n,s=!1){if(j(t)){t.forEach((T,P)=>nn(T,e&&(j(e)?e[P]:e),r,n,s));return}if(Zr(n)&&!s)return;const i=n.shapeFlag&4?an(n.component)||n.component.proxy:n.el,o=s?null:i,{i:l,r:a}=t,f=e&&e.r,h=l.refs===W?l.refs={}:l.refs,m=l.setupState;if(f!=null&&f!==a&&(oe(f)?(h[f]=null,L(m,f)&&(m[f]=null)):te(f)&&(f.value=null)),N(a))Le(a,l,12,[o,h]);else{const T=oe(a),P=te(a);if(T||P){const S=()=>{if(t.f){const M=T?h[a]:a.value;s?j(M)&&Er(M,i):j(M)?M.includes(i)||M.push(i):T?h[a]=[i]:(a.value=[i],t.k&&(h[t.k]=a.value))}else T?(h[a]=o,L(m,a)&&(m[a]=o)):te(a)&&(a.value=o,t.k&&(h[t.k]=o))};o?(S.id=-1,ae(S,r)):S()}}}const ae=xo;function Zo(t){return Qo(t)}function Qo(t,e){const r=Si();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:l,createComment:a,setText:f,setElementText:h,parentNode:m,nextSibling:T,setScopeId:P=Ee,cloneNode:S,insertStaticContent:M}=t,I=(c,u,p,b=null,g=null,y=null,x=!1,v=null,E=!!u.dynamicChildren)=>{if(c===u)return;c&&!st(c,u)&&(b=Ht(c),Fe(c,g,y,!0),c=null),u.patchFlag===-2&&(E=!1,u.dynamicChildren=null);const{type:_,ref:C,shapeFlag:O}=u;switch(_){case sn:B(c,u,p,b);break;case Ke:ce(c,u,p,b);break;case on:c==null&&ee(u,p,b,x);break;case Ae:Oe(c,u,p,b,g,y,x,v,E);break;default:O&1?ke(c,u,p,b,g,y,x,v,E):O&6?d(c,u,p,b,g,y,x,v,E):(O&64||O&128)&&_.process(c,u,p,b,g,y,x,v,E,ct)}C!=null&&g&&nn(C,c&&c.ref,y,u||c,!u)},B=(c,u,p,b)=>{if(c==null)n(u.el=l(u.children),p,b);else{const g=u.el=c.el;u.children!==c.children&&f(g,u.children)}},ce=(c,u,p,b)=>{c==null?n(u.el=a(u.children||""),p,b):u.el=c.el},ee=(c,u,p,b)=>{[c.el,c.anchor]=M(c.children,u,p,b,c.el,c.anchor)},X=({el:c,anchor:u},p,b)=>{let g;for(;c&&c!==u;)g=T(c),n(c,p,b),c=g;n(u,p,b)},se=({el:c,anchor:u})=>{let p;for(;c&&c!==u;)p=T(c),s(c),c=p;s(u)},ke=(c,u,p,b,g,y,x,v,E)=>{x=x||u.type==="svg",c==null?K(u,p,b,g,y,x,v,E):he(c,u,g,y,x,v,E)},K=(c,u,p,b,g,y,x,v)=>{let E,_;const{type:C,props:O,shapeFlag:A,transition:R,patchFlag:D,dirs:Y}=c;if(c.el&&S!==void 0&&D===-1)E=c.el=S(c.el);else{if(E=c.el=o(c.type,y,O&&O.is,O),A&8?h(E,c.children):A&16&&Z(c.children,E,null,b,g,y&&C!=="foreignObject",x,v),Y&&tt(c,null,b,"created"),O){for(const G in O)G!=="value"&&!Wt(G)&&i(E,G,null,O[G],y,c.children,b,g,je);"value"in O&&i(E,"value",null,O.value),(_=O.onVnodeBeforeMount)&&Re(_,b,c)}J(E,c,c.scopeId,x,b)}Y&&tt(c,null,b,"beforeMount");const q=(!g||g&&!g.pendingBranch)&&R&&!R.persisted;q&&R.beforeEnter(E),n(E,u,p),((_=O&&O.onVnodeMounted)||q||Y)&&ae(()=>{_&&Re(_,b,c),q&&R.enter(E),Y&&tt(c,null,b,"mounted")},g)},J=(c,u,p,b,g)=>{if(p&&P(c,p),b)for(let y=0;y<b.length;y++)P(c,b[y]);if(g){let y=g.subTree;if(u===y){const x=g.vnode;J(c,x,x.scopeId,x.slotScopeIds,g.parent)}}},Z=(c,u,p,b,g,y,x,v,E=0)=>{for(let _=E;_<c.length;_++){const C=c[_]=v?We(c[_]):Pe(c[_]);I(null,C,u,p,b,g,y,x,v)}},he=(c,u,p,b,g,y,x)=>{const v=u.el=c.el;let{patchFlag:E,dynamicChildren:_,dirs:C}=u;E|=c.patchFlag&16;const O=c.props||W,A=u.props||W;let R;p&&rt(p,!1),(R=A.onVnodeBeforeUpdate)&&Re(R,p,u,c),C&&tt(u,c,p,"beforeUpdate"),p&&rt(p,!0);const D=g&&u.type!=="foreignObject";if(_?V(c.dynamicChildren,_,v,p,b,D,y):x||F(c,u,v,null,p,b,D,y,!1),E>0){if(E&16)fe(v,u,O,A,p,b,g);else if(E&2&&O.class!==A.class&&i(v,"class",null,A.class,g),E&4&&i(v,"style",O.style,A.style,g),E&8){const Y=u.dynamicProps;for(let q=0;q<Y.length;q++){const G=Y[q],Te=O[G],at=A[G];(at!==Te||G==="value")&&i(v,G,Te,at,g,c.children,p,b,je)}}E&1&&c.children!==u.children&&h(v,u.children)}else!x&&_==null&&fe(v,u,O,A,p,b,g);((R=A.onVnodeUpdated)||C)&&ae(()=>{R&&Re(R,p,u,c),C&&tt(u,c,p,"updated")},b)},V=(c,u,p,b,g,y,x)=>{for(let v=0;v<u.length;v++){const E=c[v],_=u[v],C=E.el&&(E.type===Ae||!st(E,_)||E.shapeFlag&(6|64))?m(E.el):p;I(E,_,C,null,b,g,y,x,!0)}},fe=(c,u,p,b,g,y,x)=>{if(p!==b){for(const v in b){if(Wt(v))continue;const E=b[v],_=p[v];E!==_&&v!=="value"&&i(c,v,_,E,x,u.children,g,y,je)}if(p!==W)for(const v in p)!Wt(v)&&!(v in b)&&i(c,v,p[v],null,x,u.children,g,y,je);"value"in b&&i(c,"value",p.value,b.value)}},Oe=(c,u,p,b,g,y,x,v,E)=>{const _=u.el=c?c.el:l(""),C=u.anchor=c?c.anchor:l("");let{patchFlag:O,dynamicChildren:A,slotScopeIds:R}=u;R&&(v=v?v.concat(R):R),c==null?(n(_,p,b),n(C,p,b),Z(u.children,p,C,g,y,x,v,E)):O>0&&O&64&&A&&c.dynamicChildren?(V(c.dynamicChildren,A,p,g,y,x,v),(u.key!=null||g&&u===g.subTree)&&Ns(c,u,!0)):F(c,u,p,C,g,y,x,v,E)},d=(c,u,p,b,g,y,x,v,E)=>{u.slotScopeIds=v,c==null?u.shapeFlag&512?g.ctx.activate(u,p,b,x,E):w(u,p,b,g,y,x,E):$(c,u,E)},w=(c,u,p,b,g,y,x)=>{const v=c.component=dl(c,b,g);if(or(c)&&(v.ctx.renderer=ct),ml(v),v.asyncDep){if(g&&g.registerDep(v,U),!c.el){const E=v.subTree=qe(Ke);ce(null,E,u,p)}return}U(v,c,u,p,g,y,x)},$=(c,u,p)=>{const b=u.component=c.component;if(wo(c,u,p))if(b.asyncDep&&!b.asyncResolved){k(b,u,p);return}else b.next=u,po(b.update),b.update();else u.component=c.component,u.el=c.el,b.vnode=u},U=(c,u,p,b,g,y,x)=>{const v=()=>{if(c.isMounted){let{next:C,bu:O,u:A,parent:R,vnode:D}=c,Y=C,q;rt(c,!1),C?(C.el=D.el,k(c,C,x)):C=D,O&&Gt(O),(q=C.props&&C.props.onVnodeBeforeUpdate)&&Re(q,R,C,D),rt(c,!0);const G=zr(c),Te=c.subTree;c.subTree=G,I(Te,G,m(Te.el),Ht(Te),c,g,y),C.el=G.el,Y===null&&To(c,G.el),A&&ae(A,g),(q=C.props&&C.props.onVnodeUpdated)&&ae(()=>Re(q,R,C,D),g)}else{let C;const{el:O,props:A}=u,{bm:R,m:D,parent:Y}=c,q=Zr(u);if(rt(c,!1),R&&Gt(R),!q&&(C=A&&A.onVnodeBeforeMount)&&Re(C,Y,u),rt(c,!0),O&&_r){const G=()=>{c.subTree=zr(c),_r(O,c.subTree,c,g,null)};q?u.type.__asyncLoader().then(()=>!c.isUnmounted&&G()):G()}else{const G=c.subTree=zr(c);I(null,G,p,b,c,g,y),u.el=G.el}if(D&&ae(D,g),!q&&(C=A&&A.onVnodeMounted)){const G=u;ae(()=>Re(C,Y,G),g)}u.shapeFlag&256&&c.a&&ae(c.a,g),c.isMounted=!0,u=p=b=null}},E=c.effect=new kr(v,()=>ss(c.update),c.scope),_=c.update=E.run.bind(E);_.id=c.uid,rt(c,!0),_()},k=(c,u,p)=>{u.component=c;const b=c.vnode.props;c.vnode=u,c.next=null,zo(c,u.props,b,p),Vo(c,u.children,p),mt(),qr(void 0,c.update),Ze()},F=(c,u,p,b,g,y,x,v,E=!1)=>{const _=c&&c.children,C=c?c.shapeFlag:0,O=u.children,{patchFlag:A,shapeFlag:R}=u;if(A>0){if(A&128){we(_,O,p,b,g,y,x,v,E);return}else if(A&256){Me(_,O,p,b,g,y,x,v,E);return}}R&8?(C&16&&je(_,g,y),O!==_&&h(p,O)):C&16?R&16?we(_,O,p,b,g,y,x,v,E):je(_,g,y,!0):(C&8&&h(p,""),R&16&&Z(O,p,b,g,y,x,v,E))},Me=(c,u,p,b,g,y,x,v,E)=>{c=c||ut,u=u||ut;const _=c.length,C=u.length,O=Math.min(_,C);let A;for(A=0;A<O;A++){const R=u[A]=E?We(u[A]):Pe(u[A]);I(c[A],R,p,null,g,y,x,v,E)}_>C?je(c,g,y,!0,!1,O):Z(u,p,b,g,y,x,v,E,O)},we=(c,u,p,b,g,y,x,v,E)=>{let _=0;const C=u.length;let O=c.length-1,A=C-1;for(;_<=O&&_<=A;){const R=c[_],D=u[_]=E?We(u[_]):Pe(u[_]);if(st(R,D))I(R,D,p,null,g,y,x,v,E);else break;_++}for(;_<=O&&_<=A;){const R=c[O],D=u[A]=E?We(u[A]):Pe(u[A]);if(st(R,D))I(R,D,p,null,g,y,x,v,E);else break;O--,A--}if(_>O){if(_<=A){const R=A+1,D=R<C?u[R].el:b;for(;_<=A;)I(null,u[_]=E?We(u[_]):Pe(u[_]),p,D,g,y,x,v,E),_++}}else if(_>A)for(;_<=O;)Fe(c[_],g,y,!0),_++;else{const R=_,D=_,Y=new Map;for(_=D;_<=A;_++){const de=u[_]=E?We(u[_]):Pe(u[_]);de.key!=null&&Y.set(de.key,_)}let q,G=0;const Te=A-D+1;let at=!1,xn=0;const xt=new Array(Te);for(_=0;_<Te;_++)xt[_]=0;for(_=R;_<=O;_++){const de=c[_];if(G>=Te){Fe(de,g,y,!0);continue}let $e;if(de.key!=null)$e=Y.get(de.key);else for(q=D;q<=A;q++)if(xt[q-D]===0&&st(de,u[q])){$e=q;break}$e===void 0?Fe(de,g,y,!0):(xt[$e-D]=_+1,$e>=xn?xn=$e:at=!0,I(de,u[$e],p,null,g,y,x,v,E),G++)}const On=at?el(xt):ut;for(q=On.length-1,_=Te-1;_>=0;_--){const de=D+_,$e=u[de],Sn=de+1<C?u[de+1].el:b;xt[_]===0?I(null,$e,p,Sn,g,y,x,v,E):at&&(q<0||_!==On[q]?Se($e,p,Sn,2):q--)}}},Se=(c,u,p,b,g=null)=>{const{el:y,type:x,transition:v,children:E,shapeFlag:_}=c;if(_&6){Se(c.component.subTree,u,p,b);return}if(_&128){c.suspense.move(u,p,b);return}if(_&64){x.move(c,u,p,ct);return}if(x===Ae){n(y,u,p);for(let O=0;O<E.length;O++)Se(E[O],u,p,b);n(c.anchor,u,p);return}if(x===on){X(c,u,p);return}if(b!==2&&_&1&&v)if(b===0)v.beforeEnter(y),n(y,u,p),ae(()=>v.enter(y),g);else{const{leave:O,delayLeave:A,afterLeave:R}=v,D=()=>n(y,u,p),Y=()=>{O(y,()=>{D(),R&&R()})};A?A(y,D,Y):Y()}else n(y,u,p)},Fe=(c,u,p,b=!1,g=!1)=>{const{type:y,props:x,ref:v,children:E,dynamicChildren:_,shapeFlag:C,patchFlag:O,dirs:A}=c;if(v!=null&&nn(v,null,p,c,!0),C&256){u.ctx.deactivate(c);return}const R=C&1&&A,D=!Zr(c);let Y;if(D&&(Y=x&&x.onVnodeBeforeUnmount)&&Re(Y,u,c),C&6)pi(c.component,p,b);else{if(C&128){c.suspense.unmount(p,b);return}R&&tt(c,null,u,"beforeUnmount"),C&64?c.type.remove(c,u,p,g,ct,b):_&&(y!==Ae||O>0&&O&64)?je(_,u,p,!1,!0):(y===Ae&&O&(128|256)||!g&&C&16)&&je(E,u,p),b&&Tn(c)}(D&&(Y=x&&x.onVnodeUnmounted)||R)&&ae(()=>{Y&&Re(Y,u,c),R&&tt(c,null,u,"unmounted")},p)},Tn=c=>{const{type:u,el:p,anchor:b,transition:g}=c;if(u===Ae){di(p,b);return}if(u===on){se(c);return}const y=()=>{s(p),g&&!g.persisted&&g.afterLeave&&g.afterLeave()};if(c.shapeFlag&1&&g&&!g.persisted){const{leave:x,delayLeave:v}=g,E=()=>x(p,y);v?v(c.el,y,E):E()}else y()},di=(c,u)=>{let p;for(;c!==u;)p=T(c),s(c),c=p;s(u)},pi=(c,u,p)=>{const{bum:b,scope:g,update:y,subTree:x,um:v}=c;b&&Gt(b),g.stop(),y&&(y.active=!1,Fe(x,c,u,p)),v&&ae(v,u),ae(()=>{c.isUnmounted=!0},u),u&&u.pendingBranch&&!u.isUnmounted&&c.asyncDep&&!c.asyncResolved&&c.suspenseId===u.pendingId&&(u.deps--,u.deps===0&&u.resolve())},je=(c,u,p,b=!1,g=!1,y=0)=>{for(let x=y;x<c.length;x++)Fe(c[x],u,p,b,g)},Ht=c=>c.shapeFlag&6?Ht(c.component.subTree):c.shapeFlag&128?c.suspense.next():T(c.anchor||c.el),En=(c,u,p)=>{c==null?u._vnode&&Fe(u._vnode,null,null,!0):I(u._vnode||null,c,u,null,null,null,p),ls(),u._vnode=c},ct={p:I,um:Fe,m:Se,r:Tn,mt:w,mc:Z,pc:F,pbc:V,n:Ht,o:t};let br,_r;return e&&([br,_r]=e(ct)),{render:En,hydrate:br,createApp:Xo(En,br)}}function rt({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Ns(t,e,r=!1){const n=t.children,s=e.children;if(j(n)&&j(s))for(let i=0;i<n.length;i++){const o=n[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=We(s[i]),l.el=o.el),r||Ns(o,l))}}function el(t){const e=t.slice(),r=[0];let n,s,i,o,l;const a=t.length;for(n=0;n<a;n++){const f=t[n];if(f!==0){if(s=r[r.length-1],t[s]<f){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)l=i+o>>1,t[r[l]]<f?i=l+1:o=l;f<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}const tl=t=>t.__isTeleport,Ms="components";function Oa(t,e){return nl(Ms,t,!0,e)||t}const rl=Symbol();function nl(t,e,r=!0,n=!1){const s=ve||re;if(s){const i=s.type;if(t===Ms){const l=vl(i);if(l&&(l===e||l===Ce(e)||l===Jt(Ce(e))))return i}const o=Fs(s[t]||i[t],e)||Fs(s.appContext[t],e);return!o&&n?i:o}}function Fs(t,e){return t&&(t[e]||t[Ce(e)]||t[Jt(Ce(e))])}const Ae=Symbol(void 0),sn=Symbol(void 0),Ke=Symbol(void 0),on=Symbol(void 0),jt=[];let nt=null;function Sa(t=!1){jt.push(nt=t?null:[])}function sl(){jt.pop(),nt=jt[jt.length-1]||null}let ar=1;function Ds(t){ar+=t}function Bs(t){return t.dynamicChildren=ar>0?nt||ut:null,sl(),ar>0&&nt&&nt.push(t),t}function $a(t,e,r,n,s,i){return Bs(Hs(t,e,r,n,s,i,!0))}function Ca(t,e,r,n,s){return Bs(qe(t,e,r,n,s,!0))}function il(t){return t?t.__v_isVNode===!0:!1}function st(t,e){return t.type===e.type&&t.key===e.key}const ur="__vInternal",Ls=({key:t})=>t!=null?t:null,hr=({ref:t,ref_key:e,ref_for:r})=>t!=null?oe(t)||te(t)||N(t)?{i:ve,r:t,k:e,f:!!r}:t:null;function Hs(t,e=null,r=null,n=0,s=null,i=t===Ae?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ls(e),ref:e&&hr(e),scopeId:us,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(ln(a,r),i&128&&t.normalize(a)):r&&(a.shapeFlag|=oe(r)?8:16),ar>0&&!o&&nt&&(a.patchFlag>0||i&6)&&a.patchFlag!==32&&nt.push(a),a}const qe=ol;function ol(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===rl)&&(t=Ke),il(t)){const l=vt(t,e,!0);return r&&ln(l,r),l}if(yl(t)&&(t=t.__vccOpts),e){e=ll(e);let{class:l,style:a}=e;l&&!oe(l)&&(e.class=wr(l)),ne(a)&&(Zn(a)&&!j(a)&&(a=ie({},a)),e.style=yr(a))}const o=oe(t)?1:Eo(t)?128:tl(t)?64:ne(t)?4:N(t)?2:0;return Hs(t,e,r,n,s,o,i,!0)}function ll(t){return t?Zn(t)||ur in t?ie({},t):t:null}function vt(t,e,r=!1){const{props:n,ref:s,patchFlag:i,children:o}=t,l=e?al(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&Ls(l),ref:e&&e.ref?r&&s?j(s)?s.concat(hr(e)):[s,hr(e)]:hr(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ae?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&vt(t.ssContent),ssFallback:t.ssFallback&&vt(t.ssFallback),el:t.el,anchor:t.anchor}}function cl(t=" ",e=0){return qe(sn,null,t,e)}function Pe(t){return t==null||typeof t=="boolean"?qe(Ke):j(t)?qe(Ae,null,t.slice()):typeof t=="object"?We(t):qe(sn,null,String(t))}function We(t){return t.el===null||t.memo?t:vt(t)}function ln(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(j(e))r=16;else if(typeof e=="object")if(n&(1|64)){const s=e.default;s&&(s._c&&(s._d=!1),ln(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!(ur in e)?e._ctx=ve:s===3&&ve&&(ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else N(e)?(e={default:e,_ctx:ve},r=32):(e=String(e),n&64?(r=16,e=[cl(e)]):r=8);t.children=e,t.shapeFlag|=r}function al(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=wr([e.class,n.class]));else if(s==="style")e.style=yr([e.style,n.style]);else if(Kt(s)){const i=e[s],o=n[s];o&&i!==o&&!(j(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Re(t,e,r,n=null){_e(t,e,7,[r,n])}const cn=t=>t?Ks(t)?an(t)||t.proxy:cn(t.parent):null,fr=ie(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cn(t.parent),$root:t=>cn(t.root),$emit:t=>t.emit,$options:t=>xs(t),$forceUpdate:t=>()=>ss(t.update),$nextTick:t=>ho.bind(t.proxy),$watch:t=>So.bind(t)}),ul={get({_:t},e){const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:l,appContext:a}=t;let f;if(e[0]!=="$"){const P=o[e];if(P!==void 0)switch(P){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(n!==W&&L(n,e))return o[e]=1,n[e];if(s!==W&&L(s,e))return o[e]=2,s[e];if((f=t.propsOptions[0])&&L(f,e))return o[e]=3,i[e];if(r!==W&&L(r,e))return o[e]=4,r[e];Qr&&(o[e]=0)}}const h=fr[e];let m,T;if(h)return e==="$attrs"&&pe(t,"get",e),h(t);if((m=l.__cssModules)&&(m=m[e]))return m;if(r!==W&&L(r,e))return o[e]=4,r[e];if(T=a.config.globalProperties,L(T,e))return T[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;if(s!==W&&L(s,e))s[e]=r;else if(n!==W&&L(n,e))n[e]=r;else if(L(t.props,e))return!1;return e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let l;return!!r[o]||t!==W&&L(t,o)||e!==W&&L(e,o)||(l=i[0])&&L(l,o)||L(n,o)||L(fr,o)||L(s.config.globalProperties,o)}},hl=Us();let fl=0;function dl(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||hl,i={uid:fl++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new $i(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$s(n,s),emitsOptions:as(n,s),emit:null,emitted:null,propsDefaults:W,inheritAttrs:n.inheritAttrs,ctx:W,data:W,props:W,attrs:W,slots:W,refs:W,setupState:W,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=bo.bind(null,i),t.ce&&t.ce(i),i}let re=null;const pl=()=>re||ve,yt=t=>{re=t,t.scope.on()},it=()=>{re&&re.scope.off(),re=null};function Ks(t){return t.vnode.shapeFlag&4}let It=!1;function ml(t,e=!1){It=e;const{props:r,children:n}=t.vnode,s=Ks(t);Wo(t,r,s,e),Go(t,n);const i=s?gl(t,e):void 0;return It=!1,i}function gl(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=Qn(new Proxy(t.ctx,ul));const{setup:n}=r;if(n){const s=t.setupContext=n.length>1?_l(t):null;yt(t),mt();const i=Le(n,t,0,[t.props,s]);if(Ze(),it(),Pn(i)){if(i.then(it,it),e)return i.then(o=>{qs(t,o,e)}).catch(o=>{nr(o,t,0)});t.asyncDep=i}else qs(t,i,e)}else zs(t,e)}function qs(t,e,r){N(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ne(e)&&(t.setupState=rs(e)),zs(t,r)}let Ws;function zs(t,e,r){const n=t.type;if(!t.render){if(!e&&Ws&&!n.render){const s=n.template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=n,f=ie(ie({isCustomElement:i,delimiters:l},o),a);n.render=Ws(s,f)}}t.render=n.render||Ee}yt(t),mt(),Bo(t),Ze(),it()}function bl(t){return new Proxy(t.attrs,{get(e,r){return pe(t,"get","$attrs"),e[r]}})}function _l(t){const e=n=>{t.exposed=n||{}};let r;return{get attrs(){return r||(r=bl(t))},slots:t.slots,emit:t.emit,expose:e}}function an(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(rs(Qn(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in fr)return fr[r](t)}}))}function vl(t){return N(t)&&t.displayName||t.name}function yl(t){return N(t)&&"__vccOpts"in t}const wl=(t,e)=>ao(t,e,It),Tl="3.2.29",El="http://www.w3.org/2000/svg",ot=typeof document!="undefined"?document:null,Js=ot&&ot.createElement("template"),xl={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e?ot.createElementNS(El,t):ot.createElement(t,r?{is:r}:void 0);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>ot.createTextNode(t),createComment:t=>ot.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ot.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},cloneNode(t){const e=t.cloneNode(!0);return"_value"in t&&(e._value=t._value),e},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{Js.innerHTML=n?`<svg>${t}</svg>`:t;const l=Js.content;if(n){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}};function Ol(t,e,r){const n=t._vtc;n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}function Sl(t,e,r){const n=t.style,s=oe(r);if(r&&!s){for(const i in r)un(n,i,r[i]);if(e&&!oe(e))for(const i in e)r[i]==null&&un(n,i,"")}else{const i=n.display;s?e!==r&&(n.cssText=r):e&&t.removeAttribute("style"),"_vod"in t&&(n.display=i)}}const Gs=/\s*!important$/;function un(t,e,r){if(j(r))r.forEach(n=>un(t,e,n));else if(e.startsWith("--"))t.setProperty(e,r);else{const n=$l(t,e);Gs.test(r)?t.setProperty(ft(n),r.replace(Gs,""),"important"):t[n]=r}}const Vs=["Webkit","Moz","ms"],hn={};function $l(t,e){const r=hn[e];if(r)return r;let n=Ce(e);if(n!=="filter"&&n in t)return hn[e]=n;n=Jt(n);for(let s=0;s<Vs.length;s++){const i=Vs[s]+n;if(i in t)return hn[e]=i}return e}const Ys="http://www.w3.org/1999/xlink";function Cl(t,e,r,n,s){if(n&&e.startsWith("xlink:"))r==null?t.removeAttributeNS(Ys,e.slice(6,e.length)):t.setAttributeNS(Ys,e,r);else{const i=gi(e);r==null||i&&!$n(r)?t.removeAttribute(e):t.setAttribute(e,i?"":r)}}function Al(t,e,r,n,s,i,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,s,i),t[e]=r==null?"":r;return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=r;const l=r==null?"":r;(t.value!==l||t.tagName==="OPTION")&&(t.value=l),r==null&&t.removeAttribute(e);return}if(r===""||r==null){const l=typeof t[e];if(l==="boolean"){t[e]=$n(r);return}else if(r==null&&l==="string"){t[e]="",t.removeAttribute(e);return}else if(l==="number"){try{t[e]=0}catch{}t.removeAttribute(e);return}}try{t[e]=r}catch{}}let dr=Date.now,Xs=!1;if(typeof window!="undefined"){dr()>document.createEvent("Event").timeStamp&&(dr=()=>performance.now());const t=navigator.userAgent.match(/firefox\/(\d+)/i);Xs=!!(t&&Number(t[1])<=53)}let fn=0;const Pl=Promise.resolve(),Rl=()=>{fn=0},kl=()=>fn||(Pl.then(Rl),fn=dr());function wt(t,e,r,n){t.addEventListener(e,r,n)}function jl(t,e,r,n){t.removeEventListener(e,r,n)}function Il(t,e,r,n,s=null){const i=t._vei||(t._vei={}),o=i[e];if(n&&o)o.value=n;else{const[l,a]=Ul(e);if(n){const f=i[e]=Nl(n,s);wt(t,l,f,a)}else o&&(jl(t,l,o,a),i[e]=void 0)}}const Zs=/(?:Once|Passive|Capture)$/;function Ul(t){let e;if(Zs.test(t)){e={};let r;for(;r=t.match(Zs);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[ft(t.slice(2)),e]}function Nl(t,e){const r=n=>{const s=n.timeStamp||dr();(Xs||s>=r.attached-1)&&_e(Ml(n,r.value),e,5,[n])};return r.value=t,r.attached=kl(),r}function Ml(t,e){if(j(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const Qs=/^on[a-z]/,Fl=(t,e,r,n,s=!1,i,o,l,a)=>{e==="class"?Ol(t,n,s):e==="style"?Sl(t,r,n):Kt(e)?Tr(e)||Il(t,e,r,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Dl(t,e,n,s))?Al(t,e,n,i,o,l,a):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Cl(t,e,n,s))};function Dl(t,e,r,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&Qs.test(e)&&N(r)):e==="spellcheck"||e==="draggable"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Qs.test(e)&&oe(r)?!1:e in t}const Bl={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Ao.props;const ei=t=>{const e=t.props["onUpdate:modelValue"];return j(e)?r=>Gt(e,r):e};function Ll(t){t.target.composing=!0}function ti(t){const e=t.target;e.composing&&(e.composing=!1,Hl(e,"input"))}function Hl(t,e){const r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0),t.dispatchEvent(r)}const Aa={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t._assign=ei(s);const i=n||s.props&&s.props.type==="number";wt(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;r?l=l.trim():i&&(l=$r(l)),t._assign(l)}),r&&wt(t,"change",()=>{t.value=t.value.trim()}),e||(wt(t,"compositionstart",Ll),wt(t,"compositionend",ti),wt(t,"change",ti))},mounted(t,{value:e}){t.value=e==null?"":e},beforeUpdate(t,{value:e,modifiers:{lazy:r,trim:n,number:s}},i){if(t._assign=ei(i),t.composing||document.activeElement===t&&(r||n&&t.value.trim()===e||(s||t.type==="number")&&$r(t.value)===e))return;const o=e==null?"":e;t.value!==o&&(t.value=o)}},Kl=["ctrl","shift","alt","meta"],ql={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Kl.some(r=>t[`${r}Key`]&&!e.includes(r))},Pa=(t,e)=>(r,...n)=>{for(let s=0;s<e.length;s++){const i=ql[e[s]];if(i&&i(r,e))return}return t(r,...n)},Wl=ie({patchProp:Fl},xl);let ri;function zl(){return ri||(ri=Zo(Wl))}const Ra=(...t)=>{const e=zl().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Jl(n);if(!s)return;const i=e._component;!N(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=r(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function Jl(t){return oe(t)?document.querySelector(t):t}const Gl="1.29.4",ni={"X-Client-Info":`supabase-js/${Gl}`},Vl="supabase.auth.token";function Yl(t){return t.replace(/\/$/,"")}const Xl=()=>typeof window!="undefined";var Zl=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function Ql(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dn={exports:{}};(function(t,e){var r=typeof self!="undefined"?self:Zl,n=function(){function i(){this.fetch=!1,this.DOMException=r.DOMException}return i.prototype=r,new i}();(function(i){(function(o){var l={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};function a(d){return d&&DataView.prototype.isPrototypeOf(d)}if(l.arrayBuffer)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(d){return d&&f.indexOf(Object.prototype.toString.call(d))>-1};function m(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function T(d){return typeof d!="string"&&(d=String(d)),d}function P(d){var w={next:function(){var $=d.shift();return{done:$===void 0,value:$}}};return l.iterable&&(w[Symbol.iterator]=function(){return w}),w}function S(d){this.map={},d instanceof S?d.forEach(function(w,$){this.append($,w)},this):Array.isArray(d)?d.forEach(function(w){this.append(w[0],w[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(w){this.append(w,d[w])},this)}S.prototype.append=function(d,w){d=m(d),w=T(w);var $=this.map[d];this.map[d]=$?$+", "+w:w},S.prototype.delete=function(d){delete this.map[m(d)]},S.prototype.get=function(d){return d=m(d),this.has(d)?this.map[d]:null},S.prototype.has=function(d){return this.map.hasOwnProperty(m(d))},S.prototype.set=function(d,w){this.map[m(d)]=T(w)},S.prototype.forEach=function(d,w){for(var $ in this.map)this.map.hasOwnProperty($)&&d.call(w,this.map[$],$,this)},S.prototype.keys=function(){var d=[];return this.forEach(function(w,$){d.push($)}),P(d)},S.prototype.values=function(){var d=[];return this.forEach(function(w){d.push(w)}),P(d)},S.prototype.entries=function(){var d=[];return this.forEach(function(w,$){d.push([$,w])}),P(d)},l.iterable&&(S.prototype[Symbol.iterator]=S.prototype.entries);function M(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function I(d){return new Promise(function(w,$){d.onload=function(){w(d.result)},d.onerror=function(){$(d.error)}})}function B(d){var w=new FileReader,$=I(w);return w.readAsArrayBuffer(d),$}function ce(d){var w=new FileReader,$=I(w);return w.readAsText(d),$}function ee(d){for(var w=new Uint8Array(d),$=new Array(w.length),U=0;U<w.length;U++)$[U]=String.fromCharCode(w[U]);return $.join("")}function X(d){if(d.slice)return d.slice(0);var w=new Uint8Array(d.byteLength);return w.set(new Uint8Array(d)),w.buffer}function se(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:l.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:l.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():l.arrayBuffer&&l.blob&&a(d)?(this._bodyArrayBuffer=X(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||h(d))?this._bodyArrayBuffer=X(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var d=M(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?M(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(B)}),this.text=function(){var d=M(this);if(d)return d;if(this._bodyBlob)return ce(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ee(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(Z)}),this.json=function(){return this.text().then(JSON.parse)},this}var ke=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function K(d){var w=d.toUpperCase();return ke.indexOf(w)>-1?w:d}function J(d,w){w=w||{};var $=w.body;if(d instanceof J){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,w.headers||(this.headers=new S(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!$&&d._bodyInit!=null&&($=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=w.credentials||this.credentials||"same-origin",(w.headers||!this.headers)&&(this.headers=new S(w.headers)),this.method=K(w.method||this.method||"GET"),this.mode=w.mode||this.mode||null,this.signal=w.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&$)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody($)}J.prototype.clone=function(){return new J(this,{body:this._bodyInit})};function Z(d){var w=new FormData;return d.trim().split("&").forEach(function($){if($){var U=$.split("="),k=U.shift().replace(/\+/g," "),F=U.join("=").replace(/\+/g," ");w.append(decodeURIComponent(k),decodeURIComponent(F))}}),w}function he(d){var w=new S,$=d.replace(/\r?\n[\t ]+/g," ");return $.split(/\r?\n/).forEach(function(U){var k=U.split(":"),F=k.shift().trim();if(F){var Me=k.join(":").trim();w.append(F,Me)}}),w}se.call(J.prototype);function V(d,w){w||(w={}),this.type="default",this.status=w.status===void 0?200:w.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in w?w.statusText:"OK",this.headers=new S(w.headers),this.url=w.url||"",this._initBody(d)}se.call(V.prototype),V.prototype.clone=function(){return new V(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},V.error=function(){var d=new V(null,{status:0,statusText:""});return d.type="error",d};var fe=[301,302,303,307,308];V.redirect=function(d,w){if(fe.indexOf(w)===-1)throw new RangeError("Invalid status code");return new V(null,{status:w,headers:{location:d}})},o.DOMException=i.DOMException;try{new o.DOMException}catch{o.DOMException=function(w,$){this.message=w,this.name=$;var U=Error(w);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function Oe(d,w){return new Promise(function($,U){var k=new J(d,w);if(k.signal&&k.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var F=new XMLHttpRequest;function Me(){F.abort()}F.onload=function(){var we={status:F.status,statusText:F.statusText,headers:he(F.getAllResponseHeaders()||"")};we.url="responseURL"in F?F.responseURL:we.headers.get("X-Request-URL");var Se="response"in F?F.response:F.responseText;$(new V(Se,we))},F.onerror=function(){U(new TypeError("Network request failed"))},F.ontimeout=function(){U(new TypeError("Network request failed"))},F.onabort=function(){U(new o.DOMException("Aborted","AbortError"))},F.open(k.method,k.url,!0),k.credentials==="include"?F.withCredentials=!0:k.credentials==="omit"&&(F.withCredentials=!1),"responseType"in F&&l.blob&&(F.responseType="blob"),k.headers.forEach(function(we,Se){F.setRequestHeader(Se,we)}),k.signal&&(k.signal.addEventListener("abort",Me),F.onreadystatechange=function(){F.readyState===4&&k.signal.removeEventListener("abort",Me)}),F.send(typeof k._bodyInit=="undefined"?null:k._bodyInit)})}return Oe.polyfill=!0,i.fetch||(i.fetch=Oe,i.Headers=S,i.Request=J,i.Response=V),o.Headers=S,o.Request=J,o.Response=V,o.fetch=Oe,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var s=n;e=s.fetch,e.default=s.fetch,e.fetch=s.fetch,e.Headers=s.Headers,e.Request=s.Request,e.Response=s.Response,t.exports=e})(dn,dn.exports);var pr=Ql(dn.exports),Ut=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};const ec=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tc=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(r=>e({message:ec(r),status:(t==null?void 0:t.status)||500}))},rc=(t,e,r)=>{const n={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||(n.headers=Object.assign({"Content-Type":"text/plain;charset=UTF-8"},e==null?void 0:e.headers),n.body=JSON.stringify(r)),n};function mr(t=pr,e,r,n,s){return Ut(this,void 0,void 0,function*(){return new Promise((i,o)=>{t(r,rc(e,n,s)).then(l=>{if(!l.ok)throw l;return(n==null?void 0:n.noResolveJson)?i:l.json()}).then(l=>i(l)).catch(l=>tc(l,o))})})}function pn(t,e,r){return Ut(this,void 0,void 0,function*(){return mr(t,"GET",e,r)})}function ge(t,e,r,n){return Ut(this,void 0,void 0,function*(){return mr(t,"POST",e,n,r)})}function si(t,e,r,n){return Ut(this,void 0,void 0,function*(){return mr(t,"PUT",e,n,r)})}function nc(t,e,r,n){return Ut(this,void 0,void 0,function*(){return mr(t,"DELETE",e,n,r)})}const sc="1.22.0",ic="http://localhost:9999",oc={"X-Client-Info":`gotrue-js/${sc}`},Nt="supabase.auth.token",lc={name:"sb:token",lifetime:60*60*8,domain:"",path:"/",sameSite:"lax"};function cc(t,e,r){const n=r||{},s=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!i.test(t))throw new TypeError("argument name is invalid");const o=s(e);if(o&&!i.test(o))throw new TypeError("argument val is invalid");let l=t+"="+o;if(n.maxAge!=null){const a=n.maxAge-0;if(isNaN(a)||!isFinite(a))throw new TypeError("option maxAge is invalid");l+="; Max-Age="+Math.floor(a)}if(n.domain){if(!i.test(n.domain))throw new TypeError("option domain is invalid");l+="; Domain="+n.domain}if(n.path){if(!i.test(n.path))throw new TypeError("option path is invalid");l+="; Path="+n.path}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(l+="; HttpOnly"),n.secure&&(l+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l}function ac(t){if(!t||!t.headers||!t.headers.host)throw new Error('The "host" request header is not available');const e=t.headers.host.indexOf(":")>-1&&t.headers.host.split(":")[0]||t.headers.host;return!(["localhost","127.0.0.1"].indexOf(e)>-1||e.endsWith(".local"))}function uc(t,e){var r,n,s;return cc(t.name,t.value,{maxAge:t.maxAge,expires:new Date(Date.now()+t.maxAge*1e3),httpOnly:!0,secure:e,path:(r=t.path)!==null&&r!==void 0?r:"/",domain:(n=t.domain)!==null&&n!==void 0?n:"",sameSite:(s=t.sameSite)!==null&&s!==void 0?s:"lax"})}function hc(t,e,r){const n=r.map(i=>uc(i,ac(t))),s=e.getHeader("Set-Cookie");s&&(s instanceof Array?Array.prototype.push.apply(n,s):typeof s=="string"&&n.push(s)),e.setHeader("Set-Cookie",n)}function ii(t,e,r){hc(t,e,[r])}function fc(t,e,r){ii(t,e,{name:r,value:"",maxAge:-1})}function Mt(t){return Math.round(Date.now()/1e3)+t}function dc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ze=()=>typeof window!="undefined";function Je(t,e){var r;e||(e=((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href)||""),t=t.replace(/[\[\]]/g,"\\$&");const n=new RegExp("[?&#]"+t+"(=([^&#]*)|&|#|$)"),s=n.exec(e);return s?s[2]?decodeURIComponent(s[2].replace(/\+/g," ")):"":null}var Q=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};class pc{constructor({url:e="",headers:r={},cookieOptions:n,fetch:s}){this.url=e,this.headers=r,this.cookieOptions=Object.assign(Object.assign({},lc),n),this.fetch=s}_createRequestHeaders(e){const r=Object.assign({},this.headers);return r.Authorization=`Bearer ${e}`,r}cookieName(){var e;return(e=this.cookieOptions.name)!==null&&e!==void 0?e:""}getUrlForProvider(e,r){const n=[`provider=${encodeURIComponent(e)}`];return(r==null?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(r==null?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),`${this.url}/authorize?${n.join("&")}`}signUpWithEmail(e,r,n={}){return Q(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="";n.redirectTo&&(i="?redirect_to="+encodeURIComponent(n.redirectTo));const o=yield ge(this.fetch,`${this.url}/signup${i}`,{email:e,password:r,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:s}),l=Object.assign({},o);return l.expires_in&&(l.expires_at=Mt(o.expires_in)),{data:l,error:null}}catch(s){return{data:null,error:s}}})}signInWithEmail(e,r,n={}){return Q(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);let i="?grant_type=password";n.redirectTo&&(i+="&redirect_to="+encodeURIComponent(n.redirectTo));const o=yield ge(this.fetch,`${this.url}/token${i}`,{email:e,password:r},{headers:s}),l=Object.assign({},o);return l.expires_in&&(l.expires_at=Mt(o.expires_in)),{data:l,error:null}}catch(s){return{data:null,error:s}}})}signUpWithPhone(e,r,n={}){return Q(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers),i=yield ge(this.fetch,`${this.url}/signup`,{phone:e,password:r,data:n.data,gotrue_meta_security:{hcaptcha_token:n.captchaToken}},{headers:s}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=Mt(i.expires_in)),{data:o,error:null}}catch(s){return{data:null,error:s}}})}signInWithPhone(e,r){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers),s="?grant_type=password",i=yield ge(this.fetch,`${this.url}/token${s}`,{phone:e,password:r},{headers:n}),o=Object.assign({},i);return o.expires_in&&(o.expires_at=Mt(i.expires_in)),{data:o,error:null}}catch(n){return{data:null,error:n}}})}sendMagicLinkEmail(e,r={}){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let s="";return r.redirectTo&&(s+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield ge(this.fetch,`${this.url}/magiclink${s}`,{email:e,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}sendMobileOTP(e,r={}){return Q(this,void 0,void 0,function*(){try{let n=Object.assign({},this.headers);return{data:yield ge(this.fetch,`${this.url}/otp`,{phone:e,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}signOut(e){return Q(this,void 0,void 0,function*(){try{return yield ge(this.fetch,`${this.url}/logout`,{},{headers:this._createRequestHeaders(e),noResolveJson:!0}),{error:null}}catch(r){return{error:r}}})}verifyMobileOTP(e,r,n={}){return Q(this,void 0,void 0,function*(){try{const s=Object.assign({},this.headers);return{data:yield ge(this.fetch,`${this.url}/verify`,{phone:e,token:r,type:"sms",redirect_to:n.redirectTo},{headers:s}),error:null}}catch(s){return{data:null,error:s}}})}inviteUserByEmail(e,r={}){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let s="";return r.redirectTo&&(s+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield ge(this.fetch,`${this.url}/invite${s}`,{email:e,data:r.data},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}resetPasswordForEmail(e,r={}){return Q(this,void 0,void 0,function*(){try{const n=Object.assign({},this.headers);let s="";return r.redirectTo&&(s+="?redirect_to="+encodeURIComponent(r.redirectTo)),{data:yield ge(this.fetch,`${this.url}/recover${s}`,{email:e,gotrue_meta_security:{hcaptcha_token:r.captchaToken}},{headers:n}),error:null}}catch(n){return{data:null,error:n}}})}refreshAccessToken(e){return Q(this,void 0,void 0,function*(){try{const r=yield ge(this.fetch,`${this.url}/token?grant_type=refresh_token`,{refresh_token:e},{headers:this.headers}),n=Object.assign({},r);return n.expires_in&&(n.expires_at=Mt(r.expires_in)),{data:n,error:null}}catch(r){return{data:null,error:r}}})}setAuthCookie(e,r){var n;e.method!=="POST"&&(r.setHeader("Allow","POST"),r.status(405).end("Method Not Allowed"));const{event:s,session:i}=e.body;if(!s)throw new Error("Auth event missing!");if(s==="SIGNED_IN"){if(!i)throw new Error("Auth session missing!");ii(e,r,{name:this.cookieName(),value:i.access_token,domain:this.cookieOptions.domain,maxAge:(n=this.cookieOptions.lifetime)!==null&&n!==void 0?n:0,path:this.cookieOptions.path,sameSite:this.cookieOptions.sameSite})}s==="SIGNED_OUT"&&fc(e,r,this.cookieName()),r.status(200).json({})}generateLink(e,r,n={}){return Q(this,void 0,void 0,function*(){try{return{data:yield ge(this.fetch,`${this.url}/admin/generate_link`,{type:e,email:r,password:n.password,data:n.data,redirect_to:n.redirectTo},{headers:this.headers}),error:null}}catch(s){return{data:null,error:s}}})}createUser(e){return Q(this,void 0,void 0,function*(){try{const r=yield ge(this.fetch,`${this.url}/admin/users`,e,{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}listUsers(){return Q(this,void 0,void 0,function*(){try{return{data:(yield pn(this.fetch,`${this.url}/admin/users`,{headers:this.headers})).users,error:null}}catch(e){return{data:null,error:e}}})}getUserById(e){return Q(this,void 0,void 0,function*(){try{return{data:yield pn(this.fetch,`${this.url}/admin/users/${e}`,{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}getUserByCookie(e){return Q(this,void 0,void 0,function*(){try{if(!e.cookies)throw new Error("Not able to parse cookies! When using Express make sure the cookie-parser middleware is in use!");const r=e.cookies[this.cookieName()];if(!r)throw new Error("No cookie found!");const{user:n,error:s}=yield this.getUser(r);if(s)throw s;return{token:r,user:n,data:n,error:null}}catch(r){return{token:null,user:null,data:null,error:r}}})}updateUserById(e,r){return Q(this,void 0,void 0,function*(){try{const n=yield si(this.fetch,`${this.url}/admin/users/${e}`,r,{headers:this.headers});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}deleteUser(e){return Q(this,void 0,void 0,function*(){try{const r=yield nc(this.fetch,`${this.url}/admin/users/${e}`,{},{headers:this.headers});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}getUser(e){return Q(this,void 0,void 0,function*(){try{const r=yield pn(this.fetch,`${this.url}/user`,{headers:this._createRequestHeaders(e)});return{user:r,data:r,error:null}}catch(r){return{user:null,data:null,error:r}}})}updateUser(e,r){return Q(this,void 0,void 0,function*(){try{const n=yield si(this.fetch,`${this.url}/user`,r,{headers:this._createRequestHeaders(e)});return{user:n,data:n,error:null}}catch(n){return{user:null,data:null,error:n}}})}}function mc(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self!="undefined"&&(self.globalThis=self)}}var be=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};mc();const gc={url:ic,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:oc};class bc{constructor(e){this.stateChangeEmitters=new Map;const r=Object.assign(Object.assign({},gc),e);this.currentUser=null,this.currentSession=null,this.autoRefreshToken=r.autoRefreshToken,this.persistSession=r.persistSession,this.multiTab=r.multiTab,this.localStorage=r.localStorage||globalThis.localStorage,this.api=new pc({url:r.url,headers:r.headers,cookieOptions:r.cookieOptions,fetch:r.fetch}),this._recoverSession(),this._recoverAndRefresh(),this._listenForMultiTabEvents(),r.detectSessionInUrl&&ze()&&!!Je("access_token")&&this.getSessionFromUrl({storeSession:!0}).then(({error:n})=>{n&&console.error("Error getting session from URL.",n)})}signUp({email:e,password:r,phone:n},s={}){return be(this,void 0,void 0,function*(){try{this._removeSession();const{data:i,error:o}=n&&r?yield this.api.signUpWithPhone(n,r,{data:s.data,captchaToken:s.captchaToken}):yield this.api.signUpWithEmail(e,r,{redirectTo:s.redirectTo,data:s.data,captchaToken:s.captchaToken});if(o)throw o;if(!i)throw"An error occurred on sign up.";let l=null,a=null;return i.access_token&&(l=i,a=l.user,this._saveSession(l),this._notifyAllSubscribers("SIGNED_IN")),i.id&&(a=i),{user:a,session:l,error:null}}catch(i){return{user:null,session:null,error:i}}})}signIn({email:e,phone:r,password:n,refreshToken:s,provider:i},o={}){return be(this,void 0,void 0,function*(){try{if(this._removeSession(),e&&!n){const{error:l}=yield this.api.sendMagicLinkEmail(e,{redirectTo:o.redirectTo,captchaToken:o.captchaToken});return{user:null,session:null,error:l}}if(e&&n)return this._handleEmailSignIn(e,n,{redirectTo:o.redirectTo});if(r&&!n){const{error:l}=yield this.api.sendMobileOTP(r,{captchaToken:o.captchaToken});return{user:null,session:null,error:l}}if(r&&n)return this._handlePhoneSignIn(r,n);if(s){const{error:l}=yield this._callRefreshToken(s);if(l)throw l;return{user:this.currentUser,session:this.currentSession,error:null}}if(i)return this._handleProviderSignIn(i,{redirectTo:o.redirectTo,scopes:o.scopes});throw new Error("You must provide either an email, phone number or a third-party provider.")}catch(l){return{user:null,session:null,error:l}}})}verifyOTP({phone:e,token:r},n={}){return be(this,void 0,void 0,function*(){try{this._removeSession();const{data:s,error:i}=yield this.api.verifyMobileOTP(e,r,n);if(i)throw i;if(!s)throw"An error occurred on token verification.";let o=null,l=null;return s.access_token&&(o=s,l=o.user,this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),s.id&&(l=s),{user:l,session:o,error:null}}catch(s){return{user:null,session:null,error:s}}})}user(){return this.currentUser}session(){return this.currentSession}refreshSession(){var e;return be(this,void 0,void 0,function*(){try{if(!((e=this.currentSession)===null||e===void 0?void 0:e.access_token))throw new Error("Not logged in.");const{error:r}=yield this._callRefreshToken();if(r)throw r;return{data:this.currentSession,user:this.currentUser,error:null}}catch(r){return{data:null,user:null,error:r}}})}update(e){var r;return be(this,void 0,void 0,function*(){try{if(!((r=this.currentSession)===null||r===void 0?void 0:r.access_token))throw new Error("Not logged in.");const{user:n,error:s}=yield this.api.updateUser(this.currentSession.access_token,e);if(s)throw s;if(!n)throw Error("Invalid user data.");const i=Object.assign(Object.assign({},this.currentSession),{user:n});return this._saveSession(i),this._notifyAllSubscribers("USER_UPDATED"),{data:n,user:n,error:null}}catch(n){return{data:null,user:null,error:n}}})}setSession(e){return be(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:r,error:n}=yield this.api.refreshAccessToken(e);return n?{session:null,error:n}:(this._saveSession(r),this._notifyAllSubscribers("SIGNED_IN"),{session:r,error:null})}catch(r){return{error:r,session:null}}})}setAuth(e){return this.currentSession=Object.assign(Object.assign({},this.currentSession),{access_token:e,token_type:"bearer",user:null}),this.currentSession}getSessionFromUrl(e){return be(this,void 0,void 0,function*(){try{if(!ze())throw new Error("No browser detected.");const r=Je("error_description");if(r)throw new Error(r);const n=Je("provider_token"),s=Je("access_token");if(!s)throw new Error("No access_token detected.");const i=Je("expires_in");if(!i)throw new Error("No expires_in detected.");const o=Je("refresh_token");if(!o)throw new Error("No refresh_token detected.");const l=Je("token_type");if(!l)throw new Error("No token_type detected.");const f=Math.round(Date.now()/1e3)+parseInt(i),{user:h,error:m}=yield this.api.getUser(s);if(m)throw m;const T={provider_token:n,access_token:s,expires_in:parseInt(i),expires_at:f,refresh_token:o,token_type:l,user:h};if(e==null?void 0:e.storeSession){this._saveSession(T);const P=Je("type");this._notifyAllSubscribers("SIGNED_IN"),P==="recovery"&&this._notifyAllSubscribers("PASSWORD_RECOVERY")}return window.location.hash="",{data:T,error:null}}catch(r){return{data:null,error:r}}})}signOut(){var e;return be(this,void 0,void 0,function*(){const r=(e=this.currentSession)===null||e===void 0?void 0:e.access_token;if(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"),r){const{error:n}=yield this.api.signOut(r);if(n)return{error:n}}return{error:null}})}onAuthStateChange(e){try{const r=dc(),n={id:r,callback:e,unsubscribe:()=>{this.stateChangeEmitters.delete(r)}};return this.stateChangeEmitters.set(r,n),{data:n,error:null}}catch(r){return{data:null,error:r}}}_handleEmailSignIn(e,r,n={}){var s,i;return be(this,void 0,void 0,function*(){try{const{data:o,error:l}=yield this.api.signInWithEmail(e,r,{redirectTo:n.redirectTo});return l||!o?{data:null,user:null,session:null,error:l}:((((s=o==null?void 0:o.user)===null||s===void 0?void 0:s.confirmed_at)||((i=o==null?void 0:o.user)===null||i===void 0?void 0:i.email_confirmed_at))&&(this._saveSession(o),this._notifyAllSubscribers("SIGNED_IN")),{data:o,user:o.user,session:o,error:null})}catch(o){return{data:null,user:null,session:null,error:o}}})}_handlePhoneSignIn(e,r){var n;return be(this,void 0,void 0,function*(){try{const{data:s,error:i}=yield this.api.signInWithPhone(e,r);return i||!s?{data:null,user:null,session:null,error:i}:(((n=s==null?void 0:s.user)===null||n===void 0?void 0:n.phone_confirmed_at)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN")),{data:s,user:s.user,session:s,error:null})}catch(s){return{data:null,user:null,session:null,error:s}}})}_handleProviderSignIn(e,r={}){const n=this.api.getUrlForProvider(e,{redirectTo:r.redirectTo,scopes:r.scopes});try{return ze()&&(window.location.href=n),{provider:e,url:n,data:null,session:null,user:null,error:null}}catch(s){return n?{provider:e,url:n,data:null,session:null,user:null,error:null}:{data:null,user:null,session:null,error:s}}}_recoverSession(){var e;try{const r=ze()&&((e=this.localStorage)===null||e===void 0?void 0:e.getItem(Nt));if(!r||typeof r!="string")return null;const n=JSON.parse(r),{currentSession:s,expiresAt:i}=n,o=Math.round(Date.now()/1e3);i>=o&&(s==null?void 0:s.user)&&(this._saveSession(s),this._notifyAllSubscribers("SIGNED_IN"))}catch(r){console.log("error",r)}}_recoverAndRefresh(){return be(this,void 0,void 0,function*(){try{const e=ze()&&(yield this.localStorage.getItem(Nt));if(!e)return null;const r=JSON.parse(e),{currentSession:n,expiresAt:s}=r,i=Math.round(Date.now()/1e3);if(s<i)if(this.autoRefreshToken&&n.refresh_token){const{error:o}=yield this._callRefreshToken(n.refresh_token);o&&(console.log(o.message),yield this._removeSession())}else this._removeSession();else!n||!n.user?(console.log("Current session is missing data."),this._removeSession()):(this._saveSession(n),this._notifyAllSubscribers("SIGNED_IN"))}catch(e){return console.error(e),null}})}_callRefreshToken(e){var r;return e===void 0&&(e=(r=this.currentSession)===null||r===void 0?void 0:r.refresh_token),be(this,void 0,void 0,function*(){try{if(!e)throw new Error("No current session.");const{data:n,error:s}=yield this.api.refreshAccessToken(e);if(s)throw s;if(!n)throw Error("Invalid session data.");return this._saveSession(n),this._notifyAllSubscribers("TOKEN_REFRESHED"),this._notifyAllSubscribers("SIGNED_IN"),{data:n,error:null}}catch(n){return{data:null,error:n}}})}_notifyAllSubscribers(e){this.stateChangeEmitters.forEach(r=>r.callback(e,this.currentSession))}_saveSession(e){this.currentSession=e,this.currentUser=e.user;const r=e.expires_at;if(r){const n=Math.round(Date.now()/1e3),s=r-n,i=s>60?60:.5;this._startAutoRefreshToken((s-i)*1e3)}this.persistSession&&e.expires_at&&this._persistSession(this.currentSession)}_persistSession(e){const r={currentSession:e,expiresAt:e.expires_at};ze()&&this.localStorage.setItem(Nt,JSON.stringify(r))}_removeSession(){return be(this,void 0,void 0,function*(){this.currentSession=null,this.currentUser=null,this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),ze()&&(yield this.localStorage.removeItem(Nt))})}_startAutoRefreshToken(e){this.refreshTokenTimer&&clearTimeout(this.refreshTokenTimer),!(e<=0||!this.autoRefreshToken)&&(this.refreshTokenTimer=setTimeout(()=>this._callRefreshToken(),e),typeof this.refreshTokenTimer.unref=="function"&&this.refreshTokenTimer.unref())}_listenForMultiTabEvents(){if(!this.multiTab||!ze()||!(window==null?void 0:window.addEventListener))return!1;try{window==null||window.addEventListener("storage",e=>{var r;if(e.key===Nt){const n=JSON.parse(String(e.newValue));((r=n==null?void 0:n.currentSession)===null||r===void 0?void 0:r.access_token)?(this._recoverAndRefresh(),this._notifyAllSubscribers("SIGNED_IN")):(this._removeSession(),this._notifyAllSubscribers("SIGNED_OUT"))}})}catch(e){console.error("_listenForMultiTabEvents",e)}}}class _c extends bc{constructor(e){super(e)}}var vc=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};class mn{constructor(e){this.shouldThrowOnError=!1,Object.assign(this,e),this.fetch=e.fetch||pr}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,r){typeof this.schema=="undefined"||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>vc(this,void 0,void 0,function*(){var i,o,l;let a=null,f=null,h=null;if(s.ok){const T=(i=this.headers.Prefer)===null||i===void 0?void 0:i.split(",").includes("return=minimal");if(this.method!=="HEAD"&&!T){const M=yield s.text();M&&(this.headers.Accept==="text/csv"?f=M:f=JSON.parse(M))}const P=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(l=s.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");P&&S&&S.length>1&&(h=parseInt(S[1]))}else{const T=yield s.text();try{a=JSON.parse(T)}catch{a={message:T}}if(a&&this.shouldThrowOnError)throw a}return{error:a,data:f,count:h,status:s.status,statusText:s.statusText,body:f}}));return this.shouldThrowOnError||(n=n.catch(s=>({error:{message:`FetchError: ${s.message}`,details:"",hint:"",code:s.code||""},data:null,body:null,count:null,status:400,statusText:"Bad Request"}))),n.then(e,r)}}class gn extends mn{select(e="*"){let r=!1;const n=e.split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this}order(e,{ascending:r=!0,nullsFirst:n=!1,foreignTable:s}={}){const i=typeof s=="undefined"?"order":`${s}.order`,o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${r?"asc":"desc"}.${n?"nullsfirst":"nullslast"}`),this}limit(e,{foreignTable:r}={}){const n=typeof r=="undefined"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,r,{foreignTable:n}={}){const s=typeof n=="undefined"?"offset":`${n}.offset`,i=typeof n=="undefined"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){this.headers.Accept="application/vnd.pgrst.object+json";const e=new gn(this);return e.then=(r,n)=>this.then(s=>{var i,o;return((o=(i=s.error)===null||i===void 0?void 0:i.details)===null||o===void 0?void 0:o.includes("Results contain 0 rows"))?r({error:null,data:null,count:s.count,status:200,statusText:"OK",body:null}):r(s)},n),e}csv(){return this.headers.Accept="text/csv",this}}class Tt extends gn{constructor(){super(...arguments);this.cs=this.contains,this.cd=this.containedBy,this.sl=this.rangeLt,this.sr=this.rangeGt,this.nxl=this.rangeGte,this.nxr=this.rangeLte,this.adj=this.rangeAdjacent,this.ov=this.overlaps}not(e,r,n){return this.url.searchParams.append(`${e}`,`not.${r}.${n}`),this}or(e,{foreignTable:r}={}){const n=typeof r=="undefined"?"or":`${r}.or`;return this.url.searchParams.append(n,`(${e})`),this}eq(e,r){return this.url.searchParams.append(`${e}`,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(`${e}`,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(`${e}`,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(`${e}`,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(`${e}`,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(`${e}`,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(`${e}`,`like.${r}`),this}ilike(e,r){return this.url.searchParams.append(`${e}`,`ilike.${r}`),this}is(e,r){return this.url.searchParams.append(`${e}`,`is.${r}`),this}in(e,r){const n=r.map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(`${e}`,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(`${e}`,`cs.{${r.join(",")}}`):this.url.searchParams.append(`${e}`,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(`${e}`,`cd.{${r.join(",")}}`):this.url.searchParams.append(`${e}`,`cd.${JSON.stringify(r)}`),this}rangeLt(e,r){return this.url.searchParams.append(`${e}`,`sl.${r}`),this}rangeGt(e,r){return this.url.searchParams.append(`${e}`,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(`${e}`,`nxl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(`${e}`,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(`${e}`,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(`${e}`,`ov.${r}`):this.url.searchParams.append(`${e}`,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s=null}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(`${e}`,`${i}fts${o}.${r}`),this}fts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`fts${s}.${r}`),this}plfts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`plfts${s}.${r}`),this}phfts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`phfts${s}.${r}`),this}wfts(e,r,{config:n}={}){const s=typeof n=="undefined"?"":`(${n})`;return this.url.searchParams.append(`${e}`,`wfts${s}.${r}`),this}filter(e,r,n){return this.url.searchParams.append(`${e}`,`${r}.${n}`),this}match(e){return Object.keys(e).forEach(r=>{this.url.searchParams.append(`${r}`,`eq.${e[r]}`)}),this}}class oi extends mn{constructor(e,{headers:r={},schema:n,fetch:s}={}){super({fetch:s});this.url=new URL(e),this.headers=Object.assign({},r),this.schema=n}select(e="*",{head:r=!1,count:n=null}={}){this.method="GET";let s=!1;const i=e.split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),r&&(this.method="HEAD"),new Tt(this)}insert(e,{upsert:r=!1,onConflict:n,returning:s="representation",count:i=null}={}){this.method="POST";const o=[`return=${s}`];if(r&&o.push("resolution=merge-duplicates"),r&&n!==void 0&&this.url.searchParams.set("on_conflict",n),this.body=e,i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((a,f)=>a.concat(Object.keys(f)),[]);if(l.length>0){const a=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",a.join(","))}}return new Tt(this)}upsert(e,{onConflict:r,returning:n="representation",count:s=null,ignoreDuplicates:i=!1}={}){this.method="POST";const o=[`resolution=${i?"ignore":"merge"}-duplicates`,`return=${n}`];return r!==void 0&&this.url.searchParams.set("on_conflict",r),this.body=e,s&&o.push(`count=${s}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new Tt(this)}update(e,{returning:r="representation",count:n=null}={}){this.method="PATCH";const s=[`return=${r}`];return this.body=e,n&&s.push(`count=${n}`),this.headers.Prefer&&s.unshift(this.headers.Prefer),this.headers.Prefer=s.join(","),new Tt(this)}delete({returning:e="representation",count:r=null}={}){this.method="DELETE";const n=[`return=${e}`];return r&&n.push(`count=${r}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Tt(this)}}class yc extends mn{constructor(e,{headers:r={},schema:n,fetch:s}={}){super({fetch:s});this.url=new URL(e),this.headers=Object.assign({},r),this.schema=n}rpc(e,{head:r=!1,count:n=null}={}){return r?(this.method="HEAD",e&&Object.entries(e).forEach(([s,i])=>{this.url.searchParams.append(s,i)})):(this.method="POST",this.body=e),n&&(this.headers.Prefer!==void 0?this.headers.Prefer+=`,count=${n}`:this.headers.Prefer=`count=${n}`),new Tt(this)}}const wc="0.36.0",Tc={"X-Client-Info":`postgrest-js/${wc}`};class Ec{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Tc),r),this.schema=n,this.fetch=s}auth(e){return this.headers.Authorization=`Bearer ${e}`,this}from(e){const r=`${this.url}/${e}`;return new oi(r,{headers:this.headers,schema:this.schema,fetch:this.fetch})}rpc(e,r,{head:n=!1,count:s=null}={}){const i=`${this.url}/rpc/${e}`;return new yc(i,{headers:this.headers,schema:this.schema,fetch:this.fetch}).rpc(r,{head:n,count:s})}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const li=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=xc(o,t,e,s),i),{})},xc=(t,e,r,n)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?ci(i,o):bn(o)},ci=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Cc(e,r)}switch(t){case z.bool:return Oc(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return Sc(e);case z.json:case z.jsonb:return $c(e);case z.timestamp:return Ac(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return bn(e);default:return bn(e)}},bn=t=>t,Oc=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Sc=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},$c=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Cc=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>ci(e,l))}return t},Ac=t=>typeof t=="string"?t.replace(" ","T"):t,Pc="1.3.5",Rc={"X-Client-Info":`realtime-js/${Pc}`},kc="1.0.0",ai=1e4,jc=1e3;var Ft;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ft||(Ft={}));var ue;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ue||(ue={}));var xe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(xe||(xe={}));var _n;(function(t){t.websocket="websocket"})(_n||(_n={}));class ui{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class vn{constructor(e,r,n={},s=ai){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){this.timeoutTimer||(this.ref=this.channel.socket.makeRef(),this.refEvent=this.channel.replyEventName(this.ref),this.channel.on(this.refEvent,e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)}),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout))}trigger(e,r){this.refEvent&&this.channel.trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){!this.refEvent||this.channel.off(this.refEvent)}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}class Ic{constructor(e,r={},n){this.topic=e,this.params=r,this.socket=n,this.bindings=[],this.state=ue.closed,this.joinedOnce=!1,this.pushBuffer=[],this.timeout=this.socket.timeout,this.joinPush=new vn(this,xe.join,this.params,this.timeout),this.rejoinTimer=new ui(()=>this.rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ue.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this.onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this.joinRef()}`),this.state=ue.closed,this.socket.remove(this)}),this.onError(s=>{this.isLeaving()||this.isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{!this.isJoining()||(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ue.errored,this.rejoinTimer.scheduleTimeout())}),this.on(xe.reply,(s,i)=>{this.trigger(this.replyEventName(i),s)})}rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this.rejoin()}subscribe(e=this.timeout){if(this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";return this.joinedOnce=!0,this.rejoin(e),this.joinPush}onClose(e){this.on(xe.close,e)}onError(e){this.on(xe.error,r=>e(r))}on(e,r){this.bindings.push({event:e,callback:r})}off(e){this.bindings=this.bindings.filter(r=>r.event!==e)}canPush(){return this.socket.isConnected()&&this.isJoined()}push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new vn(this,e,r,n);return this.canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ue.leaving;let r=()=>{this.socket.log("channel",`leave ${this.topic}`),this.trigger(xe.close,"leave",this.joinRef())};this.joinPush.destroy();let n=new vn(this,xe.leave,{},e);return n.receive("ok",()=>r()).receive("timeout",()=>r()),n.send(),this.canPush()||n.trigger("ok",{}),n}onMessage(e,r,n){return r}isMember(e){return this.topic===e}joinRef(){return this.joinPush.ref}rejoin(e=this.timeout){this.isLeaving()||(this.socket.leaveOpenTopic(this.topic),this.state=ue.joining,this.joinPush.resend(e))}trigger(e,r,n){let{close:s,error:i,leave:o,join:l}=xe;if(n&&[s,i,o,l].indexOf(e)>=0&&n!==this.joinRef())return;let f=this.onMessage(e,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";this.bindings.filter(h=>h.event==="*"?e===(r==null?void 0:r.type):h.event===e).map(h=>h.callback(f,n))}replyEventName(e){return`chan_reply_${e}`}isClosed(){return this.state===ue.closed}isErrored(){return this.state===ue.errored}isJoined(){return this.state===ue.joined}isJoining(){return this.state===ue.joining}isLeaving(){return this.state===ue.leaving}}const Uc="websocket",Nc="Websocket Client & Server Library implementing the WebSocket protocol as specified in RFC 6455.",Mc=["websocket","websockets","socket","networking","comet","push","RFC-6455","realtime","server","client"],Fc="Brian McKelvey <theturtle32@gmail.com> (https://github.com/theturtle32)",Dc=["I\xF1aki Baz Castillo <ibc@aliax.net> (http://dev.sipdoc.net)"],Bc="1.0.34",Lc={type:"git",url:"https://github.com/theturtle32/WebSocket-Node.git"},Hc="https://github.com/theturtle32/WebSocket-Node",Kc={node:">=4.0.0"},qc={bufferutil:"^4.0.1",debug:"^2.2.0","es5-ext":"^0.10.50","typedarray-to-buffer":"^3.1.5","utf-8-validate":"^5.0.2",yaeti:"^0.0.6"},Wc={"buffer-equal":"^1.0.0",gulp:"^4.0.2","gulp-jshint":"^2.0.4","jshint-stylish":"^2.2.1",jshint:"^2.0.0",tape:"^4.9.1"},zc={verbose:!1},Jc={test:"tape test/unit/*.js",gulp:"gulp"},Gc="index",Vc={lib:"./lib"},Yc="lib/browser.js",Xc="Apache-2.0";var Zc={name:Uc,description:Nc,keywords:Mc,author:Fc,contributors:Dc,version:Bc,repository:Lc,homepage:Hc,engines:Kc,dependencies:qc,devDependencies:Wc,config:zc,scripts:Jc,main:Gc,directories:Vc,browser:Yc,license:Xc},Qc=Zc.version,lt;if(typeof globalThis=="object")lt=globalThis;else try{lt=require("es5-ext/global")}catch{}finally{if(!lt&&typeof window!="undefined"&&(lt=window),!lt)throw new Error("Could not determine global this")}var Dt=lt.WebSocket||lt.MozWebSocket,ea=Qc;function hi(t,e){var r;return e?r=new Dt(t,e):r=new Dt(t),r}Dt&&["CONNECTING","OPEN","CLOSING","CLOSED"].forEach(function(t){Object.defineProperty(hi,t,{get:function(){return Dt[t]}})});var ta={w3cwebsocket:Dt?hi:null,version:ea};class ra{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+s));o=o+s;const a=n.decode(e.slice(o,o+i));o=o+i;const f=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:a,payload:f}}}var na=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};const sa=()=>{};class ia{constructor(e,r){this.accessToken=null,this.channels=[],this.endPoint="",this.headers=Rc,this.params={},this.timeout=ai,this.transport=ta.w3cwebsocket,this.heartbeatIntervalMs=3e4,this.longpollerTimeout=2e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=sa,this.conn=null,this.sendBuffer=[],this.serializer=new ra,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.endPoint=`${e}/${_n.websocket}`,(r==null?void 0:r.params)&&(this.params=r.params),(r==null?void 0:r.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),r.headers)),(r==null?void 0:r.timeout)&&(this.timeout=r.timeout),(r==null?void 0:r.logger)&&(this.logger=r.logger),(r==null?void 0:r.transport)&&(this.transport=r.transport),(r==null?void 0:r.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs),(r==null?void 0:r.longpollerTimeout)&&(this.longpollerTimeout=r.longpollerTimeout),this.reconnectAfterMs=(r==null?void 0:r.reconnectAfterMs)?r.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=(r==null?void 0:r.encode)?r.encode:(n,s)=>s(JSON.stringify(n)),this.decode=(r==null?void 0:r.decode)?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ui(()=>na(this,void 0,void 0,function*(){yield this.disconnect(),this.connect()}),this.reconnectAfterMs)}connect(){this.conn||(this.conn=new this.transport(this.endPointURL(),[],null,this.headers),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this.onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,r){return new Promise((n,s)=>{try{this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r||""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset()),n({error:null,data:!0})}catch(i){n({error:i,data:!1})}})}log(e,r,n){this.logger(e,r,n)}onOpen(e){this.stateChangeCallbacks.open.push(e)}onClose(e){this.stateChangeCallbacks.close.push(e)}onError(e){this.stateChangeCallbacks.error.push(e)}onMessage(e){this.stateChangeCallbacks.message.push(e)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return"connecting";case Ft.open:return"open";case Ft.closing:return"closing";default:return"closed"}}isConnected(){return this.connectionState()==="open"}remove(e){this.channels=this.channels.filter(r=>r.joinRef()!==e.joinRef())}channel(e,r={}){let n=new Ic(e,r,this);return this.channels.push(n),n}push(e){let{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;o&&o===this.pendingHeartbeatRef?this.pendingHeartbeatRef=null:s===(i==null?void 0:i.type)&&this._resetHeartbeat(),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),this.channels.filter(l=>l.isMember(n)).forEach(l=>l.trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:kc}))}makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}setAuth(e){this.accessToken=e;try{this.channels.forEach(r=>{e&&r.updateJoinPayload({user_token:e}),r.joinedOnce&&r.isJoined()&&r.push(xe.access_token,{access_token:e})})}catch(r){console.log("setAuth error",r)}}leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n.isJoined()||n.isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_onConnOpen(){this.log("transport",`connected to ${this.endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this._resetHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e.trigger(xe.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_resetHeartbeat(){this.pendingHeartbeatRef=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs)}_sendHeartbeat(){var e;if(!!this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(jc,"hearbeat timeout");return}this.pendingHeartbeatRef=this.makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class oa{constructor(e,r,n,s){const i={},o=s==="*"?`realtime:${n}`:`realtime:${n}:${s}`,l=r.Authorization.split(" ")[1];l&&(i.user_token=l),this.subscription=e.channel(o,i)}getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=li(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=li(e.columns,e.old_record)),r}on(e,r){return this.subscription.on(e,n=>{let s={schema:n.schema,table:n.table,commit_timestamp:n.commit_timestamp,eventType:n.type,new:{},old:{},errors:n.errors};s=Object.assign(Object.assign({},s),this.getPayloadRecords(n)),r(s)}),this}subscribe(e=()=>{}){return this.subscription.onError(r=>e("SUBSCRIPTION_ERROR",r)),this.subscription.onClose(()=>e("CLOSED")),this.subscription.subscribe().receive("ok",()=>e("SUBSCRIBED")).receive("error",r=>e("SUBSCRIPTION_ERROR",r)).receive("timeout",()=>e("RETRYING_AFTER_TIMEOUT")),this.subscription}}class la extends oi{constructor(e,{headers:r={},schema:n,realtime:s,table:i,fetch:o}){super(e,{headers:r,schema:n,fetch:o});this._subscription=null,this._realtime=s,this._headers=r,this._schema=n,this._table=i}on(e,r){return this._realtime.isConnected()||this._realtime.connect(),this._subscription||(this._subscription=new oa(this._realtime,this._headers,this._schema,this._table)),this._subscription.on(e,r)}}var Bt=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};const ca=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),aa=(t,e)=>{if(typeof t.json!="function")return e(t);t.json().then(r=>e({message:ca(r),status:(t==null?void 0:t.status)||500}))},ua=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};function gr(t=pr,e,r,n,s,i){return Bt(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,ua(e,n,s,i)).then(a=>{if(!a.ok)throw a;return(n==null?void 0:n.noResolveJson)?o(a):a.json()}).then(a=>o(a)).catch(a=>aa(a,l))})})}function yn(t,e,r,n){return Bt(this,void 0,void 0,function*(){return gr(t,"GET",e,r,n)})}function Lt(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return gr(t,"POST",e,n,s,r)})}function ha(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return gr(t,"PUT",e,n,s,r)})}function fi(t,e,r,n,s){return Bt(this,void 0,void 0,function*(){return gr(t,"DELETE",e,n,s,r)})}const fa="0.0.0",da={"X-Client-Info":`storage-js/${fa}`};var Et=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};class pa{constructor(e,r={},n){this.url=e,this.headers=Object.assign(Object.assign({},da),r),this.fetch=n}listBuckets(){return Et(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){return{data:null,error:e}}})}getBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield yn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}createBucket(e,r={public:!1}){return Et(this,void 0,void 0,function*(){try{return{data:(yield Lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:r.public},{headers:this.headers})).name,error:null}}catch(n){return{data:null,error:n}}})}updateBucket(e,r){return Et(this,void 0,void 0,function*(){try{return{data:yield ha(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}emptyBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}deleteBucket(e){return Et(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}}var Ge=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};const ma={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ga={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ba{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=s}uploadOrUpdate(e,r,n,s){return Ge(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},ga),s),l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob!="undefined"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData!="undefined"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType);const a=this._removeEmptyFolders(r),f=this._getFinalPath(a),h=yield pr(`${this.url}/object/${f}`,{method:e,body:i,headers:l});if(h.ok)return{data:{Key:f},error:null};{const m=yield h.json();return{data:null,error:m}}}catch(i){return{data:null,error:i}}})}upload(e,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}update(e,r,n){return Ge(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r){return Ge(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r},{headers:this.headers}),error:null}}catch(n){return{data:null,error:n}}})}createSignedUrl(e,r){return Ge(this,void 0,void 0,function*(){try{const n=this._getFinalPath(e);let s=yield Lt(this.fetch,`${this.url}/object/sign/${n}`,{expiresIn:r},{headers:this.headers});const i=`${this.url}${s.signedURL}`;return s={signedURL:i},{data:s,error:null,signedURL:i}}catch(n){return{data:null,error:n,signedURL:null}}})}download(e){return Ge(this,void 0,void 0,function*(){try{const r=this._getFinalPath(e);return{data:yield(yield yn(this.fetch,`${this.url}/object/${r}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(r){return{data:null,error:r}}})}getPublicUrl(e){try{const r=this._getFinalPath(e),n=`${this.url}/object/public/${r}`;return{data:{publicURL:n},error:null,publicURL:n}}catch(r){return{data:null,error:r,publicURL:null}}}remove(e){return Ge(this,void 0,void 0,function*(){try{return{data:yield fi(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){return{data:null,error:r}}})}list(e,r,n){return Ge(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ma),r),{prefix:e||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){return{data:null,error:s}}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}}class _a extends pa{constructor(e,r={},n){super(e,r,n)}from(e){return new ba(this.url,this.headers,e,this.fetch)}}var wn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(h){try{f(n.next(h))}catch(m){o(m)}}function a(h){try{f(n.throw(h))}catch(m){o(m)}}function f(h){h.done?i(h.value):s(h.value).then(l,a)}f((n=n.apply(t,e||[])).next())})};const va={schema:"public",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,multiTab:!0,headers:ni};class ya{constructor(e,r,n){if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const s=Yl(e),i=Object.assign(Object.assign({},va),n);this.restUrl=`${s}/rest/v1`,this.realtimeUrl=`${s}/realtime/v1`.replace("http","ws"),this.authUrl=`${s}/auth/v1`,this.storageUrl=`${s}/storage/v1`,this.schema=i.schema,this.multiTab=i.multiTab,this.fetch=i.fetch,this.headers=Object.assign(Object.assign({},ni),n==null?void 0:n.headers),this.auth=this._initSupabaseAuthClient(i),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},i.realtime)),this._listenForAuthEvents(),this._listenForMultiTabEvents()}get storage(){return new _a(this.storageUrl,this._getAuthHeaders(),this.fetch)}from(e){const r=`${this.restUrl}/${e}`;return new la(r,{headers:this._getAuthHeaders(),schema:this.schema,realtime:this.realtime,table:e,fetch:this.fetch})}rpc(e,r,{head:n=!1,count:s=null}={}){return this._initPostgRESTClient().rpc(e,r,{head:n,count:s})}removeAllSubscriptions(){return wn(this,void 0,void 0,function*(){const r=this.realtime.channels.slice().map(n=>this.removeSubscription(n).then(()=>({status:"fulfilled",value:{error:null}})).catch(s=>({status:"rejected",reason:s})));return Promise.all(r)})}removeSubscription(e){return new Promise((r,n)=>wn(this,void 0,void 0,function*(){const{error:s}=yield this._closeSubscription(e);if(s)return n({error:s});const i=this.getSubscriptions();if(i.length===0){const{error:l}=yield this.realtime.disconnect();if(l)return n({error:l})}const o=i.filter(l=>l.isJoined()).length;return r({data:{openSubscriptions:o},error:null})}))}_closeSubscription(e){return wn(this,void 0,void 0,function*(){return e.isClosed()?new Promise(r=>(this.realtime.remove(e),r({error:null}))):yield this._closeChannel(e)})}getSubscriptions(){return this.realtime.channels}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,localStorage:s,headers:i,fetch:o}){const l={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _c({url:this.authUrl,headers:Object.assign(Object.assign({},i),l),autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,localStorage:s,fetch:o})}_initRealtimeClient(e){return new ia(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign(Object.assign({},e==null?void 0:e.params),{apikey:this.supabaseKey})}))}_initPostgRESTClient(){return new Ec(this.restUrl,{headers:this._getAuthHeaders(),schema:this.schema,fetch:this.fetch})}_getAuthHeaders(){var e,r;const n=this.headers,s=(r=(e=this.auth.session())===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey;return n.apikey=this.supabaseKey,n.Authorization=`Bearer ${s}`,n}_closeChannel(e){return new Promise((r,n)=>{e.unsubscribe().receive("ok",()=>r({error:null})).receive("error",s=>n({error:s})).receive("timeout",()=>n({error:"timed out"}))})}_listenForMultiTabEvents(){if(!this.multiTab||!Xl()||!(window==null?void 0:window.addEventListener))return null;try{return window==null?void 0:window.addEventListener("storage",e=>{var r,n,s;if(e.key===Vl){const i=JSON.parse(String(e.newValue)),o=(n=(r=i==null?void 0:i.currentSession)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0,l=(s=this.auth.session())===null||s===void 0?void 0:s.access_token;o?!l&&o?this._handleTokenChanged("SIGNED_IN",o,"STORAGE"):l!==o&&this._handleTokenChanged("TOKEN_REFRESHED",o,"STORAGE"):this._handleTokenChanged("SIGNED_OUT",o,"STORAGE")}})}catch(e){return console.error("_listenForMultiTabEvents",e),null}}_listenForAuthEvents(){let{data:e}=this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,n==null?void 0:n.access_token,"CLIENT")});return e}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.realtime.setAuth(r),n=="STORAGE"&&this.auth.setAuth(r),this.changedAccessToken=r):(e==="SIGNED_OUT"||e==="USER_DELETED")&&(this.removeAllSubscriptions(),n=="STORAGE"&&this.auth.signOut())}}const ka=(t,e,r)=>new ya(t,e,r);export{Ta as a,$a as b,ka as c,Hs as d,Pa as e,Gr as f,wa as g,vs as h,Oa as i,qe as j,Ca as k,Ra as l,yr as n,Sa as o,Fr as r,Ea as t,Aa as v,xa as w};
